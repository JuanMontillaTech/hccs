(window.webpackJsonp=window.webpackJsonp||[]).push([[76,42],{586:function(t,e,n){var map={"./af":450,"./af.js":450,"./ar":451,"./ar-dz":452,"./ar-dz.js":452,"./ar-kw":453,"./ar-kw.js":453,"./ar-ly":454,"./ar-ly.js":454,"./ar-ma":455,"./ar-ma.js":455,"./ar-sa":456,"./ar-sa.js":456,"./ar-tn":457,"./ar-tn.js":457,"./ar.js":451,"./az":458,"./az.js":458,"./be":459,"./be.js":459,"./bg":460,"./bg.js":460,"./bm":461,"./bm.js":461,"./bn":462,"./bn-bd":463,"./bn-bd.js":463,"./bn.js":462,"./bo":464,"./bo.js":464,"./br":465,"./br.js":465,"./bs":466,"./bs.js":466,"./ca":467,"./ca.js":467,"./cs":468,"./cs.js":468,"./cv":469,"./cv.js":469,"./cy":470,"./cy.js":470,"./da":471,"./da.js":471,"./de":472,"./de-at":473,"./de-at.js":473,"./de-ch":474,"./de-ch.js":474,"./de.js":472,"./dv":475,"./dv.js":475,"./el":476,"./el.js":476,"./en-au":477,"./en-au.js":477,"./en-ca":478,"./en-ca.js":478,"./en-gb":479,"./en-gb.js":479,"./en-ie":480,"./en-ie.js":480,"./en-il":481,"./en-il.js":481,"./en-in":482,"./en-in.js":482,"./en-nz":483,"./en-nz.js":483,"./en-sg":484,"./en-sg.js":484,"./eo":485,"./eo.js":485,"./es":486,"./es-do":487,"./es-do.js":487,"./es-mx":488,"./es-mx.js":488,"./es-us":489,"./es-us.js":489,"./es.js":486,"./et":490,"./et.js":490,"./eu":491,"./eu.js":491,"./fa":492,"./fa.js":492,"./fi":493,"./fi.js":493,"./fil":494,"./fil.js":494,"./fo":495,"./fo.js":495,"./fr":496,"./fr-ca":497,"./fr-ca.js":497,"./fr-ch":498,"./fr-ch.js":498,"./fr.js":496,"./fy":499,"./fy.js":499,"./ga":500,"./ga.js":500,"./gd":501,"./gd.js":501,"./gl":502,"./gl.js":502,"./gom-deva":503,"./gom-deva.js":503,"./gom-latn":504,"./gom-latn.js":504,"./gu":505,"./gu.js":505,"./he":506,"./he.js":506,"./hi":507,"./hi.js":507,"./hr":508,"./hr.js":508,"./hu":509,"./hu.js":509,"./hy-am":510,"./hy-am.js":510,"./id":511,"./id.js":511,"./is":512,"./is.js":512,"./it":513,"./it-ch":514,"./it-ch.js":514,"./it.js":513,"./ja":515,"./ja.js":515,"./jv":516,"./jv.js":516,"./ka":517,"./ka.js":517,"./kk":518,"./kk.js":518,"./km":519,"./km.js":519,"./kn":520,"./kn.js":520,"./ko":521,"./ko.js":521,"./ku":522,"./ku.js":522,"./ky":523,"./ky.js":523,"./lb":524,"./lb.js":524,"./lo":525,"./lo.js":525,"./lt":526,"./lt.js":526,"./lv":527,"./lv.js":527,"./me":528,"./me.js":528,"./mi":529,"./mi.js":529,"./mk":530,"./mk.js":530,"./ml":531,"./ml.js":531,"./mn":532,"./mn.js":532,"./mr":533,"./mr.js":533,"./ms":534,"./ms-my":535,"./ms-my.js":535,"./ms.js":534,"./mt":536,"./mt.js":536,"./my":537,"./my.js":537,"./nb":538,"./nb.js":538,"./ne":539,"./ne.js":539,"./nl":540,"./nl-be":541,"./nl-be.js":541,"./nl.js":540,"./nn":542,"./nn.js":542,"./oc-lnc":543,"./oc-lnc.js":543,"./pa-in":544,"./pa-in.js":544,"./pl":545,"./pl.js":545,"./pt":546,"./pt-br":547,"./pt-br.js":547,"./pt.js":546,"./ro":548,"./ro.js":548,"./ru":549,"./ru.js":549,"./sd":550,"./sd.js":550,"./se":551,"./se.js":551,"./si":552,"./si.js":552,"./sk":553,"./sk.js":553,"./sl":554,"./sl.js":554,"./sq":555,"./sq.js":555,"./sr":556,"./sr-cyrl":557,"./sr-cyrl.js":557,"./sr.js":556,"./ss":558,"./ss.js":558,"./sv":559,"./sv.js":559,"./sw":560,"./sw.js":560,"./ta":561,"./ta.js":561,"./te":562,"./te.js":562,"./tet":563,"./tet.js":563,"./tg":564,"./tg.js":564,"./th":565,"./th.js":565,"./tk":566,"./tk.js":566,"./tl-ph":567,"./tl-ph.js":567,"./tlh":568,"./tlh.js":568,"./tr":569,"./tr.js":569,"./tzl":570,"./tzl.js":570,"./tzm":571,"./tzm-latn":572,"./tzm-latn.js":572,"./tzm.js":571,"./ug-cn":573,"./ug-cn.js":573,"./uk":574,"./uk.js":574,"./ur":575,"./ur.js":575,"./uz":576,"./uz-latn":577,"./uz-latn.js":577,"./uz.js":576,"./vi":578,"./vi.js":578,"./x-pseudo":579,"./x-pseudo.js":579,"./yo":580,"./yo.js":580,"./zh-cn":581,"./zh-cn.js":581,"./zh-hk":582,"./zh-hk.js":582,"./zh-mo":583,"./zh-mo.js":583,"./zh-tw":584,"./zh-tw.js":584};function o(t){var e=c(t);return n(e)}function c(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}o.keys=function(){return Object.keys(map)},o.resolve=c,t.exports=o,o.id=586},589:function(t,e,n){"use strict";n.r(e);var o={components:{},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},c=n(18),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"page-title-box d-flex align-items-center justify-content-between"},[e("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),e("div",{staticClass:"page-title-right"},[e("b-breadcrumb",{staticClass:"m-0",attrs:{items:t.items}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},887:function(t,e,n){"use strict";n.r(e);n(25),n(8),n(67);var o=n(30),c=(n(75),n(17),n(2),n(601)),r=n.n(c),l=n(448),d=n(585),j={head:function(){return{title:" "}},layout:"PosLayoust",data:function(){return{title:"Vista de mesas",FormId:"25f94e8c-8ea0-4ee0-adf5-02149a0e080b",Spinning:!0,ContactList:[{id:"7198850e-10bc-4de2-b893-cd7e18d1c679",name:"Generico "},{id:"9aab6986-ff28-4c6d-b9ab-606b5a40db14",name:"Credito fiscal "}],PaymentMethod:[],PaymentMethodSelect:{name:"Efectivo",bankId:null,banks:null,id:"3078c577-d4bf-40fa-9993-77302d38f600",lastModifiedBy:null,createdBy:"administracion",lastModifiedDate:"0001-01-01T00:00:00",createdDate:"2022-02-23T12:24:04.9337373",isActive:!0,commentary:null},ContactSelectId:{id:"7198850e-10bc-4de2-b893-cd7e18d1c679",name:"Generico "},MytableData:[],Tablelistselect:{},Tablelist:[],tableData:[],tableDataOrder:[],ListInvoiceOrder:[],invoice_total:0,invoice_Tax:0,TaxContactNumber:".           .",GlobalTotalInvocie:0,Payinvoice:0,PayChangeinvoice:0,IsPay:!1,items:[{text:""},{text:"Pago de Ordenes",active:!0}]}},watch:{Tablelistselect:function(t){this.GetByTransactionLocation()}},mounted:function(){this.GetTablelist(),this.GetPaymentMethod()},middleware:"authentication",methods:{ValidePay:function(){var t=parseFloat(this.GlobalTotalInvocie),e=parseFloat(this.Payinvoice);t<=e?(this.IsPay=!0,this.PayChangeinvoice=this.SetTotal(e-t)):(this.PayChangeinvoice=0,this.IsPay=!1,this.$toast.info("Monto a facturar el menor al efectivo","Pago no es suficiente",this.izitoastConfig)),null!=this.PaymentMethodSelect?this.IsPay=!0:(this.IsPay=!1,this.$toast.info("Seleccione un metodo de pago","Seleccione un metodo de pago",this.izitoastConfig)),t>0?this.IsPay=!0:(this.IsPay=!1,this.$toast.info("No tiene Total a pagar","No tiene Total a pagar",this.izitoastConfig)),"9aab6986-ff28-4c6d-b9ab-606b5a40db14"==this.ContactSelectId.id&&(this.TaxContactNumber.length>5?this.IsPay=!0:(this.IsPay=!1,this.$toast.info("Rnc es requerido","Rnc es requerido",this.izitoastConfig)))},printForm:function(t){this.$router.push({path:"/ExpressForm/posPrint?Action=print&Form=".concat(this.FormId,"&Id=").concat(t)})},Pay:function(){var t=this;this.ValidePay();var e="Transaction/ProccesLocation/".concat(this.Tablelistselect.id,"/").concat(this.PaymentMethodSelect.id,"/").concat(this.ContactSelectId.id,"/").concat(this.TaxContactNumber),n=null;this.$axios.post(e).then((function(e){n=e,t.$toast.success("Pagado.","ÉXITO"),t.GetTable(t.Tablelistselect),t.printForm(n.data.data.id)})).catch((function(e){n=e,mixpanel.track("Pagos pos/Post"+n),t.$toast.error("".concat(n),"ERROR",t.izitoastConfig)}))},GetPaymentMethod:function(){var t=this;this.$axios.get("PaymentMethod/GetAll").then((function(e){t.PaymentMethod=e.data.data})).catch((function(e){t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}))},GetTable:function(t){var e=this;this.Tablelistselect=t;var n="TransactionLocationTransaction/GetByTransactionLocationId?Id=".concat(t.id);this.Spinning=!0,this.$axios.get(n).then((function(t){return e.Spinning=!1,e.tableDataOrder=[],e.tableDataOrder=t.data.data,e.calculateTotal(),t.data.data})).catch((function(t){e.$toast.error("".concat(t),"ERROR",e.izitoastConfig)}))},calculateTotal:function(){var t;this.Payinvoice=0,this.PayChangeinvoice=0,t=this.tableDataOrder.reduce((function(t,e){var n=parseFloat(e.transactions.globalTotal);if(!isNaN(n))return t+n}),0),this.invoice_Tax=.18*t,t+=.18*t,this.GlobalTotalInvocie=t+this.invoice_Tax,this.invoice_total=this.SetTotal(t)},GetTablelist:function(){var t=this;this.Spinning=!0,this.$axios.get("TransactionLocation/GetAll").then((function(e){t.Spinning=!1,t.Tablelist=e.data.data})).catch((function(e){t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}))},FormatDate:function(t){return l(t).lang("es").format("DD/MM/YYYY")},confirmCancellation:function(t){var e=this,n="Transaction/TransactionssDetailsDelete/".concat(t);r.a.fire({title:"estas seguro?",text:"esta seguro que quiere remover Articulo",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si , Remuévela!",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&e.$axios.delete(n).then((function(t){r.a.fire("Removido!","El registro esta removido.","success"),e.GetTable(e.Tablelistselect)})).catch((function(t){return alert(t)}))}))},SetTotal:function(t){return d(t).format("0,0.00")},GetByTransactionLocation:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="TransactionLocationTransaction/GetByTransactionLocationId?Id=".concat(t.Tablelistselect.id),t.Spinning=!0,t.$axios.get(n).then((function(e){return t.Spinning=!1,t.tableDataOrder=[],t.tableDataOrder=e.data.data,e.data.data})).catch((function(e){t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}));case 3:case"end":return e.stop()}}),e)})))()}}},h=n(18),component=Object(h.a)(j,(function(){var t=this,e=t._self._c;return e("div",[e("PageHeader",{attrs:{title:t.title,items:t.items}}),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-title"},[e("div",{staticClass:"d-flex flex-wrap w-100"},t._l(t.Tablelist,(function(n){return e("div",{key:n.id,staticClass:"mb-auto p-2"},[e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.GetTable(n)}}},[t._v("\n            "+t._s(n.name)+"\n          ")])])})),0)]),t._v(" "),e("div",{staticClass:"card-body"},[e("b-alert",{attrs:{show:""}},[t._v(t._s(t.tableDataOrder.length)+" Ordenes de Mesa\n        "+t._s(t.Tablelistselect.name)+"\n      ")]),t._v(" "),t.Spinning?e("div",{staticClass:"text-center"},[e("b-spinner",{attrs:{variant:"success",label:"Spinning"}})],1):t._e(),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},t._l(t.tableDataOrder,(function(n){return e("table",{key:n.id,staticClass:"w-10"},[n.isActive?e("thead",[e("tr",[e("th",[e("b-alert",{attrs:{variant:"success",show:""}},[t._v("\n                    "+t._s(n.transactions.code)+"\n                  ")])],1)])]):t._e(),t._v(" "),n.isActive?e("tbody",[e("tr",[e("td",t._l(n.transactions.transactionsDetails,(function(n){return e("b-list-group",{key:n.id},[n.isActive?e("b-list-group-item",{attrs:{variant:"info"}},[e("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.confirmCancellation(n.id)}}},[e("i",{staticClass:"fas fa-trash"})]),t._v("\n                      "+t._s(n.amount)+" - $"+t._s(t.SetTotal(n.price))+"\n\n                      - "+t._s(n.concept.description)+"\n                    ")],1):t._e()],1)})),1),t._v(" "),e("td")])]):t._e(),t._v(" "),n.isActive?e("tfoot",{staticClass:"text-center"},[e("tr",[e("th",[e("b-alert",{attrs:{variant:"warning",show:""}},[t._v("\n                    Total de la orden $"+t._s(t.SetTotal(n.transactions.globalTotal))+"\n                  ")])],1)])]):t._e()])})),0)])],1)])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PageHeader:n(589).default})}}]);