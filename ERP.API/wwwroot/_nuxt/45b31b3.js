(window.webpackJsonp=window.webpackJsonp||[]).push([[52,28,33],{587:function(t,e,o){var content=o(591);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("86dda686",content,!0,{sourceMap:!1})},590:function(t,e,o){"use strict";o(587)},591:function(t,e,o){var n=o(52)((function(i){return i[1]}));n.push([t.i,".loader[data-v-297c2299]{color:#bbb;text-align:center}.req[data-v-297c2299]{color:#ff0202}",""]),n.locals={},t.exports=n},592:function(t,e,o){"use strict";o.r(e);o(18),o(19),o(4),o(2),o(7),o(8),o(9),o(6),o(10);var n=o(0),r=(o(76),o(77),o(183)),c=o(601),l=o(599),m=o.n(l),d=o(600),h=o.n(d);function f(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function v(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}Object(r.c)("required",v(v({},c.a),{},{message:"El campo es requerido"}));var y={name:"InfiniteScroll",components:{ValidationProvider:r.b,ckeditor:m.a.component},data:function(){return{Scheme:{},editor:h.a,years:null,allowedTypes:[{type:0,inputType:"text"},{type:2,inputType:"text"},{type:6,inputType:"password"},{type:7,inputType:"text"},{type:9,inputType:"date"}]}},props:["item","FieldsData","labelShow"],watch:{Scheme:{handler:function(){this.$emit("CustomChange",this.Scheme)},deep:!0}},created:function(){this.Scheme=this.FieldsData,void 0===this.Scheme[this.item.field]?this.SetValues():(9===this.item.type&&this.Scheme[this.item.field]&&(this.Scheme[this.item.field]=this.Scheme[this.item.field].substr(0,10)),11===this.item.type&&(this.years=this.generateYears(2020,(new Date).getFullYear()+5)))},methods:{isAllowedType:function(t){return this.allowedTypes.some((function(e){return e.type===t}))},getAllowedType:function(t){return this.allowedTypes.find((function(e){return e.type===t}))},SetValues:function(){if(this.Scheme[this.item.field]=this.item.defaultValue,9===this.item.type){var t=new Date;this.Scheme[this.item.field]=t.toISOString().substr(0,10)}11===this.item.type&&(this.years=this.generateYears(2020,(new Date).getFullYear()+5)),3===this.item.type&&(this.Scheme[this.item.field]=["true","yes","1"].includes(this.item.defaultValue))},GetLitValue:function(t,e){this.Scheme[t]=e},generateYears:function(t,e){for(var o=[],n=t;n<=e;n++)o.push(n);return o}}},S=(o(590),o(17)),component=Object(S.a)(y,(function(){var t=this,e=t._self._c;return e("div",[t.item.showForm&&t.item.isActive?[e("tr",[e("th",[t._v(t._s(t.item.label)+"    "),t.item.isRequired?e("span",{staticClass:"req"},[t._v("*")]):t._e()])]),t._v(" "),e("tr",[e("td",[t.isAllowedType(t.item.type)?e("b-form-group",{attrs:{"label-for":"input-".concat(t.item.type,"-").concat(t.item.field),"label-cols-sm":"4"}},[e("b-form-input",{staticStyle:{width:"250px"},attrs:{id:"input-".concat(t.item.type,"-").concat(t.item.field),type:t.getAllowedType(t.item.type).inputType,size:"sm",autocomplete:"off",name:t.item.field,readonly:7===t.item.type},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),1===t.item.type?e("b-form-group",{attrs:{"label-for":"select-1","label-cols-sm":"4"}},[e("vSelect",{staticStyle:{width:"250px"},attrs:{id:"select-".concat(t.item.type,"-").concat(t.item.field),field:t.item,select:t.Scheme[t.item.field],size:"sm"},on:{CustomChange:t.GetLitValue}})],1):t._e(),t._v(" "),10===t.item.type?e("b-form-group",{attrs:{"label-for":"select-10","label-cols-sm":"4"}},[e("vSelectContact",{attrs:{id:"select-10",field:t.item,select:t.Scheme[t.item.field]},on:{CustomChange:t.GetLitValue}})],1):t._e(),t._v(" "),3===t.item.type?e("b-form-group",{attrs:{"label-cols-sm":"4"}},[e("b-form-checkbox",{attrs:{name:t.item.field,id:"checkbox-".concat(t.item.type,"-").concat(t.item.field),switch:""},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),4===t.item.type?e("b-form-group",{attrs:{"label-for":"datepicker-4","label-cols-sm":"4"}},[e("b-form-datepicker",{attrs:{id:"datepicker-".concat(t.item.type,"-").concat(t.item.field),name:t.item.field,locale:"es",size:"sm",disabled:"show"==t.$route.query.Action},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),5===t.item.type?e("b-form-group",{attrs:{"label-for":"textarea-5","label-cols-sm":"4"}},[e("b-form-textarea",{attrs:{id:"textarea-".concat(t.item.type,"-").concat(t.item.field),rows:"3",size:"sm","max-rows":"6",name:t.item.field},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),8===t.item.type?e("b-form-group",{attrs:{"label-cols-sm":"4"}},[e("ckeditor",{attrs:{editor:t.editor,name:t.item.field},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}}),t._v(" "),e("div",{domProps:{innerHTML:t._s(t.Scheme[t.item.field])}})],1):t._e(),t._v(" "),11===t.item.type?e("b-form-group",{attrs:{"label-cols-sm":"4"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.Scheme[t.item.field],expression:"Scheme[item.field]"}],staticClass:"form-control form-control-sm",attrs:{id:"input-".concat(t.item.type,"-").concat(t.item.field)},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Scheme,t.item.field,e.target.multiple?o:o[0])}}},t._l(t.years,(function(o){return e("option",{key:o,domProps:{value:o}},[t._v(t._s(o))])})),0)]):t._e()],1)])]:t._e()],2)}),[],!1,null,"297c2299",null);e.default=component.exports},598:function(t,e,o){var content=o(632);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("30dcac43",content,!0,{sourceMap:!1})},631:function(t,e,o){"use strict";o(598)},632:function(t,e,o){var n=o(52)((function(i){return i[1]}));n.push([t.i,"hr.new1{border-top:1px solid blue}.text-size-required{font-size:12px}",""]),n.locals={},t.exports=n},635:function(t,e,o){"use strict";o.r(e);o(25),o(182),o(4),o(2),o(18);var n={props:["FormIdExt"],data:function(){return{FormId:"",RowId:"",DataForm:[],DataFormSection:[],DataFormSectionGrids:[],principalSchema:{},SchemaTable:[]}},watch:{FormIdExt:function(){this.FormId="",this.RowId="",this.DataForm=[],this.DataFormSection=[],this.DataFormSectionGrids=[],this.principalSchema={},this.SchemaTable=[],this.FormId=this.FormIdExt,this.GetFormRows()}},middleware:"authentication",mounted:function(){this.GetFormRows()},methods:{hideModal:function(){this.$emit("hideModal")},removeRow:function(t){this.DataFormSectionGrids.splice(t,1)},GetFilterDataOnlyshowForm:function(t){return t.filter((function(t){return 1==t.showForm}))},GetValueFormElement:function(t){this.principalSchema=t},GetLitValue:function(t,e){this.principalSchema[t]=e},clearForm:function(){for(var t in this.principalSchema)this.principalSchema[t]=""},GetFormRows:function(){var t=this;this.FormId=this.FormIdExt;var e="Form/GetById?Id=".concat(this.FormIdExt);this.DataForm=[],this.DataFormSection=[],this.DataFormSectionGrids=[],this.$axios.get(e).then((function(e){t.DataForm=e.data.data,t.GetFilds(),"edit"===t.$route.query.Action&&(t.RowId=t.$route.query.Id,t.GetFildsData())})).catch((function(t){}))},GetFilds:function(){var t=this;this.$axios.get("Formfields/GetSectionWithFildsByFormID/".concat(this.FormId)).then((function(e){t.DataFormSection=e.data.data})).catch((function(t){}))},GetGrids:function(){var t=this;this.$axios.get("FormGrid/GetSectionWithFildsByFormID/".concat(this.FormId)).then((function(e){t.DataFormSectionGrids=e.data.data,t.SchemaTable.push(newrow)})).catch((function(t){}))},GetFildsData:function(){var t=this,e="".concat(this.DataForm.controller,"/GetById?Id=").concat(this.RowId);this.$axios.get(e).then((function(e){t.principalSchema=e.data.data})).catch((function(t){}))},GoBack:function(){this.DataForm.backList&&this.$router.push({path:"/ExpressForm/Index?Form=".concat(this.FormId)})},editSchema:function(){1==this.DataForm.edit?this.put():this.$toast.info("La opcion editar esta deshabilitada")},saveSchema:function(){this.RowId.length<1&&(1==this.DataForm.create?this.post():this.$toast.info("La opcion crear esta deshabilitada"))},post:function(){var t=this,e="".concat(this.DataForm.controller,"/Create"),o=null;this.$axios.post(e,this.principalSchema).then((function(e){e.data.succeeded?(t.$toast.success("El Registro ha sido creado correctamente.","ÉXITO"),t.hideModal()):t.$toast.info("".concat(e.data.friendlyMessage),"Informaciòn",t.izitoastConfig)})).catch((function(e){o=e,t.$toast.error("".concat(o),"Informaciòn",t.izitoastConfig)}))},put:function(){var t=this;this.$axios.put("".concat(this.DataForm.controller,"/Update"),this.principalSchema).then((function(e){t.$toast.success("El Registro ha sido actualizado correctamente.","EXITO"),t.GoBack()})).catch((function(t){reject(t)}))}}},r=(o(631),o(17)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("h4",[t._v(t._s(this.DataForm.title))]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[t._l(t.DataFormSection,(function(o,n){return e("div",{key:n},[e("div",{staticClass:"row ml-0 mb-12"},[e("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[e("span",{staticStyle:{"font-size":"14px","font-family":"Georgia, 'Times New Roman', Times, serif",font:"bold"}},[t._v(t._s(o.name))]),t._v(" "),e("hr",{staticClass:"new1"})])]),t._v(" "),e("div",{staticClass:"row"},t._l(t.GetFilterDataOnlyshowForm(o.fields),(function(o,n){return e("div",{key:n},[e("DynamicElementGrid",{attrs:{FieldsData:t.principalSchema,item:o,labelShow:!0},on:{CustomChange:t.GetValueFormElement}})],1)})),0)])})),t._v(" "),e("br"),t._v(" "),e("b-button-group",[e("b-button",{attrs:{variant:"light",size:"sn"},on:{click:function(e){return t.hideModal()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Cerrar\n        ")]),t._v(" "),e("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(e){return t.saveSchema()}}},[e("i",{staticClass:"bx bx-save"}),t._v(" Crear\n        ")])],1)],2)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DynamicElementGrid:o(592).default})},653:function(t,e,o){var content=o(685);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("63e14b38",content,!0,{sourceMap:!1})},684:function(t,e,o){"use strict";o(653)},685:function(t,e,o){var n=o(52)((function(i){return i[1]}));n.push([t.i,".loader[data-v-7448e2cc]{color:#bbb;text-align:center}",""]),n.locals={},t.exports=n},781:function(t,e,o){"use strict";o.r(e);o(25),o(12),o(134),o(18);var n={name:"InfiniteScroll",data:function(){return{list:[],observer:null,limit:0,formId:null,search:"",offset:0}},props:["field","select","Index"],computed:{},mounted:function(){this.formId=this.$route.query.Form,this.onSearch(""),this.firstValue()},watch:{select:function(t){this.firstValue()}},methods:{hideModal:function(){this.$refs.ExternalModal.hide()},onSearch:function(t){var e=this;if(t.length>=3){this.limit=5,this.search=t;var o="".concat(this.field.sourceApi,"?PageNumber=").concat(this.offset,"&PageSize=").concat(this.limit,"&Search=").concat(this.search);this.$axios.get("".concat(o)).then((function(t){e.list=t.data.data.data})).catch((function(t){e.$toast.error("".concat(t),"ERROR",e.izitoastConfig)}))}else this.limit=0,this.firstValue()},firstValue:function(){var t=this;if(null!=this.select){var e=this.field.sourceApi.split("/"),o="".concat(e[0],"/GetById?Id=").concat(this.select);this.$axios.get(o).then((function(e){t.list.push(e.data.data)})).catch((function(t){}))}},setSelected:function(t){this.$emit("CustomChange",this.field.field,t,this.Index)}}},r=(o(684),o(17)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",[e("vueselect",{attrs:{options:t.list,reduce:function(t){return t.id},label:t.field.sourceLabel,name:t.field.field,placeholder:"Escriba 3 o mas digitos para buscar"},on:{search:t.onSearch,input:t.setSelected},scopedSlots:t._u([{key:"option",fn:function(option){return[e("span",[t._v("\n          "+t._s(option.name)+"\n          "),option.phone1?e("strong",[t._v("\n            Tel: "+t._s(option.phone1)+" "+t._s(option.phone2)+"\n          ")]):t._e()])]}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),t._v(" "),t.field.formSoportId?e("div",[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-scrollable",modifiers:{"modal-scrollable":!0}}],staticClass:"btn btn-primary btn-sm waves-effect waves-light",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModalScrollable"}},[t._v("\n      +\n    ")]),t._v(" "),e("b-modal",{ref:"ExternalModal",attrs:{id:"modal-scrollable",scrollable:"","hide-footer":"","title-class":"font-18"}},[e("FormDynamicExpressAdd",{attrs:{FormIdExt:t.field.formSoportId},on:{hideModal:t.hideModal}})],1)],1):t._e()])}),[],!1,null,"7448e2cc",null);e.default=component.exports;installComponents(component,{FormDynamicExpressAdd:o(635).default})}}]);