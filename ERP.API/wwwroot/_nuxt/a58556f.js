(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{761:function(t,e,r){var content=r(817);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(53).default)("e6a97a2e",content,!0,{sourceMap:!1})},816:function(t,e,r){"use strict";r(761)},817:function(t,e,r){var o=r(52)((function(i){return i[1]}));o.push([t.i,".container{margin:auto;width:90%}",""]),o.locals={},t.exports=o},916:function(t,e,r){"use strict";r.r(e);r(8),r(67);var o=r(30),n=(r(19),r(25),r(75),r(600),{data:function(){return{payable:{id:null,accountType:"payable",date:null,amount:0,documentNumber:"",customerSupplierId:null,description:"",dueDate:null,paymentMethodId:"",commentary:""},accountTypeOptions:[{value:"payable",text:"Por Pagar"},{value:"receivable",text:"Por Cobrar"}],customerSuppliers:[],paymentMethodOptions:[],DataForm:[]}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchCustomerSuppliers();case 2:return e.next=4,t.fetchPaymentMethods();case 4:t.loadData();case 5:case"end":return e.stop()}}),e)})))()},methods:{validateAmount:function(){return!(this.payable.amount<=0)||(this.$toast.error("El monto debe ser mayor que cero.","Error de validación",this.izitoastConfig),!1)},fetchCustomerSuppliers:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("Contact/GetAll");case 3:r=e.sent,t.customerSuppliers=r.data.data.map((function(t){return{value:t.id,text:t.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error(e.t0.message,"Error al obtener clientes/proveedores",t.izitoastConfig);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},fetchPaymentMethods:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("PaymentMethod/GetAll");case 3:r=e.sent,t.paymentMethodOptions=r.data.data.map((function(t){return{value:t.id,text:t.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error(e.t0.message,"Error al obtener métodos de pago",t.izitoastConfig);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},GoBack:function(){this.$router.push("/payable")},onSubmit:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.form.validate();case 3:if(r=e.sent,!t.validateAmount()){e.next=16;break}if(!r){e.next=16;break}if(!t.payable.id){e.next=12;break}return e.next=9,t.$axios.put("Payable/Update",t.payable);case 9:t.$toast.success("Cuenta por pagar actualizada correctamente.","Éxito",t.izitoastConfig),e.next=15;break;case 12:return e.next=14,t.$axios.post("Payable/Create",t.payable);case 14:t.$toast.success("Cuenta por pagar creada correctamente.","Éxito",t.izitoastConfig);case 15:t.GoBack();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),t.$toast.error(e.t0.message,"Error al guardar la cuenta por pagar",t.izitoastConfig);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))()},loadData:function(){var t=this.$route.params.id;t?this.fetchPayable(t):this.payable.id=null},fetchPayable:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.get("Payable/GetById?id=".concat(t));case 3:o=r.sent,e.payable=o.data.data,r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),e.$toast.error(r.t0.message,"Error al obtener la cuenta por pagar",e.izitoastConfig);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}}),l=(r(816),r(18)),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("h4",[t._v(" Cuentas por Pagar/Cobrar")]),t._v(" "),e("ValidationObserver",{ref:"form"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 p-2"},[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{staticClass:"btn",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){return t.GoBack()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n            ")]),t._v(" "),e("b-button",{attrs:{variant:"success",title:"Guardar",size:"sm"},on:{click:t.onSubmit}},[e("i",{staticClass:"uil uil-print font-size-18"}),t._v(" Guardar\n            ")])],1)],1),t._v(" "),e("div",{staticClass:"col-lg-12 p-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",staticStyle:{"background-color":"white"}},[e("h5",{staticClass:"text-center"},[t._v(t._s(t.DataForm.title))])]),t._v(" "),e("div",{staticClass:"card-body justify-content-center container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Tipo de Cuenta","label-for":"accountType","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-select",{attrs:{id:"accountType",options:t.accountTypeOptions,size:"sm",state:!(o.length>0)&&null},model:{value:t.payable.accountType,callback:function(e){t.$set(t.payable,"accountType",e)},expression:"payable.accountType"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v("Campo requerido")]):t._e()]}}])})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Fecha","label-for":"date","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-input",{attrs:{id:"date",type:"date",size:"sm",state:!(o.length>0)&&null},model:{value:t.payable.date,callback:function(e){t.$set(t.payable,"date",e)},expression:"payable.date"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v("Campo requerido")]):t._e()]}}])})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Monto","label-for":"amount","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required|numeric"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-input",{attrs:{id:"amount",type:"number",size:"sm",state:!(o.length>0)&&null},model:{value:t.payable.amount,callback:function(e){t.$set(t.payable,"amount",e)},expression:"payable.amount"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v("Campo requerido")]):t._e()]}}])})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Número de Documento","label-for":"documentNumber","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-input",{attrs:{id:"documentNumber",type:"text",size:"sm",state:!(o.length>0)&&null},model:{value:t.payable.documentNumber,callback:function(e){t.$set(t.payable,"documentNumber",e)},expression:"payable.documentNumber"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v("Campo requerido")]):t._e()]}}])})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Contacto","label-for":"customerSupplierId","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-select",{attrs:{id:"customerSupplierId",options:t.customerSuppliers,size:"sm",state:!(o.length>0)&&null},model:{value:t.payable.customerSupplierId,callback:function(e){t.$set(t.payable,"customerSupplierId",e)},expression:"payable.customerSupplierId"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v("Campo requerido")]):t._e()]}}])})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Descripción","label-for":"description","label-cols":4}},[e("b-form-input",{attrs:{id:"description",type:"text",size:"sm"},model:{value:t.payable.description,callback:function(e){t.$set(t.payable,"description",e)},expression:"payable.description"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Fecha de Vencimiento","label-for":"dueDate","label-cols":4}},[e("b-form-input",{attrs:{id:"dueDate",type:"date",size:"sm"},model:{value:t.payable.dueDate,callback:function(e){t.$set(t.payable,"dueDate",e)},expression:"payable.dueDate"}})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Método de Pago","label-for":"PaymentMethodId","label-cols":4}},[e("b-form-select",{attrs:{id:"PaymentMethodId",options:t.paymentMethodOptions,size:"sm"},model:{value:t.payable.paymentMethodId,callback:function(e){t.$set(t.payable,"paymentMethodId",e)},expression:"payable.paymentMethodId"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("b-form-group",{attrs:{label:"Comentario","label-for":"commentary","label-cols":2}},[e("b-form-textarea",{attrs:{id:"commentary",rows:"3",size:"sm"},model:{value:t.payable.commentary,callback:function(e){t.$set(t.payable,"commentary",e)},expression:"payable.commentary"}})],1)],1)])])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 p-2"},[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{staticClass:"btn",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){return t.GoBack()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n            ")]),t._v(" "),e("b-button",{attrs:{variant:"success",title:"Guardar",size:"sm"},on:{click:t.onSubmit}},[e("i",{staticClass:"uil uil-print font-size-18"}),t._v(" Guardar\n            ")])],1)],1)])])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);