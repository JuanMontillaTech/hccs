(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{754:function(e,t,o){var content=o(808);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(53).default)("77c60345",content,!0,{sourceMap:!1})},807:function(e,t,o){"use strict";o(754)},808:function(e,t,o){var r=o(52)((function(i){return i[1]}));r.push([e.i,".modal-header{background-color:#457b9d!important;color:#fff}.text-size-required{font-size:12px}",""]),r.locals={},e.exports=r},894:function(e,t,o){"use strict";o.r(t);o(25),o(8),o(67);var r=o(30),n=(o(19),o(2),o(75),o(101),o(753)),c=o.n(n),l=o(603),d={layout:"TheSlidebar",name:"Impuestos",components:{VJstree:c.a},data:function(){return{Taxes:{CreditLedgerAccountId:null,DebitLedgerAccountId:null,name:null,percentage:null,taxType:null,code:null,description:null},optionstaxType:[{value:1,text:"Porcentaje"},{value:2,text:"Fijo"}],izitoastConfig:{position:"topRight"},ShowModalCreate:!1,ShowModalEdit:!1,ShowModalDelete:!1,ShowModalDetails:!1,TaxesSelectList:[],columns:[{label:"Nombre",field:"code",width:"50px"},{label:"Descripción",field:"description",width:"50px"},{label:"Acciones",field:"action",width:"50px"}],rows:[]}},middleware:"authentication",created:function(){this.GetAllSchemaRows(),this.getListForSelect()},validations:{Taxes:{name:{required:l.required},percentage:{required:l.required},taxType:{required:l.required}}},methods:{getListForSelect:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"LedgerAccount/GetAll",o=null,e.$axios.get("LedgerAccount/GetAll").then((function(t){o=t,e.TaxesSelectList=o.data.data})).catch((function(t){e.$toast.error("".concat(t),"ERROR",e.izitoastConfig)}));case 3:case"end":return t.stop()}}),t)})))()},showModal:function(){this.ShowModalCreate=!0,this.clearForm()},GetAllSchemaRows:function(){var e=this;this.rows=[],this.$axios.get("Taxes/GetAll").then((function(t){t.data.data.map((function(t){var o={id:t.id,code:t.code,name:t.name,taxType:t.taxType,CreditLedgerAccountId:t.creditLedgerAccountId,DebitLedgerAccountId:t.debitLedgerAccountId,percentage:t.percentage,description:t.description};e.rows.push(o)}))})).catch((function(t){e.$toast.error("".concat(t),"ERROR",e.izitoastConfig)}))},showTaxes:function(e){this.ShowModalDetails=!0,this.Taxes=e},editTaxes:function(e){this.ShowModalEdit=!0,this.Taxes=e},removeTaxes:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:console.log(e),t.$toast.question("Esta seguro que quiere eliminar este registro?","PREGUNTA",{timeout:2e4,close:!1,overlay:!0,toastOnce:!0,id:"question",zindex:999,position:"center",buttons:[["<button><b>YES</b></button>",function(t,o){t.hide({transitionOut:"fadeOut"},o,"button");var r="Taxes/Delete/".concat(e);this.$axios.delete(r).then((function(e){alert("EXITO: El Registro ha sido eliminado correctamente."),location.reload()})).catch((function(e){return alert(e)}))},!0],["<button>NO</button>",function(e,t){e.hide({transitionOut:"fadeOut"},t,"button")}]]});case 2:case"end":return o.stop()}}),o)})))()},saveTaxes:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.$v.$invalid){t.next=5;break}e.$toast.error("Por favor complete el formulario correctamente.","ERROR",e.izitoastConfig),t.next=7;break;case 5:return"Taxes/Create",t.abrupt("return",new Promise((function(t,o){e.$axios.post("Taxes/Create",e.Taxes).then((function(o){t(o),e.$toast.success("El registro ha sido creado correctamente.","EXITO",e.izitoastConfig),e.ShowModalCreate=!1,e.GetAllSchemaRows()})).catch((function(t){o(t),e.$toast.error("".concat(t),"ERROR",e.izitoastConfig)}))})));case 7:case"end":return t.stop()}}),t)})))()},updateTaxes:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.$v.$invalid){t.next=5;break}e.$toast.error("Por favor complete el formulario correctamente.","ERROR",e.izitoastConfig),t.next=7;break;case 5:return"Taxes/Update",t.abrupt("return",new Promise((function(t,o){e.$axios.put("Taxes/Update",e.Taxes).then((function(o){t(o),e.$toast.success("El registro ha sido actualizado correctamente.","EXITO",e.izitoastConfig),e.ShowModalEdit=!1,e.clearForm(),e.GetAllSchemaRows()})).catch((function(t){o(t),e.$toast.error("".concat(t),"ERROR",e.izitoastConfig)}))})));case 7:case"end":return t.stop()}}),t)})))()},clearForm:function(){this.Taxes={CreditLedgerAccountId:null,DebitLedgerAccountId:null,name:null,percentage:null,taxType:null,code:null,description:null}}}},m=(o(807),o(17)),component=Object(m.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("b-modal",{attrs:{size:"lg",title:"Formulario de Impuestos","hide-footer":""},model:{value:e.ShowModalCreate,callback:function(t){e.ShowModalCreate=t},expression:"ShowModalCreate"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Código del impuesto"}},[t("b-form-input",{attrs:{size:"sm",trim:""},model:{value:e.Taxes.code,callback:function(t){e.$set(e.Taxes,"code",t)},expression:"Taxes.code"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Nombre"}},[t("b-form-input",{attrs:{size:"sm",trim:""},model:{value:e.Taxes.name,callback:function(t){e.$set(e.Taxes,"name",t)},expression:"Taxes.name"}}),e._v(" "),e.$v.Taxes.name.$error?t("p",{staticClass:"text-danger text-size-required m-0"},[e._v("\n              Campo requerido.\n            ")]):e._e()],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Procentaje"}},[t("b-form-input",{attrs:{type:"number",size:"sm",trim:""},model:{value:e.Taxes.percentage,callback:function(t){e.$set(e.Taxes,"percentage",t)},expression:"Taxes.percentage"}}),e._v(" "),e.$v.Taxes.percentage.$error?t("p",{staticClass:"text-danger text-size-required m-0"},[e._v("\n              Campo requerido.\n            ")]):e._e()],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Tipo"}},[t("b-form-select",{attrs:{options:e.optionstaxType},model:{value:e.Taxes.taxType,callback:function(t){e.$set(e.Taxes,"taxType",t)},expression:"Taxes.taxType"}}),e._v(" "),e.$v.Taxes.taxType.$error?t("p",{staticClass:"text-danger text-size-required m-0"},[e._v("\n              Campo requerido.\n            ")]):e._e()],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Subcuenta de impuesto repercutido"}},[t("vueselect",{attrs:{options:e.TaxesSelectList,reduce:function(e){return e.id},label:"name"},model:{value:e.Taxes.CreditLedgerAccountId,callback:function(t){e.$set(e.Taxes,"CreditLedgerAccountId",t)},expression:"Taxes.CreditLedgerAccountId"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Subcuenta impuesto soportado"}},[t("vueselect",{attrs:{options:e.TaxesSelectList,reduce:function(e){return e.id},label:"name"},model:{value:e.Taxes.DebitLedgerAccountId,callback:function(t){e.$set(e.Taxes,"DebitLedgerAccountId",t)},expression:"Taxes.DebitLedgerAccountId"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[t("b-form-group",{attrs:{label:"Descripción"}},[t("b-form-textarea",{model:{value:e.Taxes.description,callback:function(t){e.$set(e.Taxes,"description",t)},expression:"Taxes.description"}})],1)],1),e._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"row justify-content-end"},[t("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[t("b-button",{staticClass:"w-100",attrs:{variant:"danger"},on:{click:function(t){e.ShowModalCreate=!e.ShowModalCreate}}},[e._v("Cancelar")])],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[t("b-button",{staticClass:"w-100",staticStyle:{"background-color":"#457b9d"},on:{click:function(t){return e.saveTaxes()}}},[t("span",[e._v("Guardar")])])],1)])])])])]),e._v(" "),t("b-modal",{attrs:{size:"lg",title:"Formulario de Impuestos","hide-footer":""},model:{value:e.ShowModalDetails,callback:function(t){e.ShowModalDetails=t},expression:"ShowModalDetails"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Código del impuesto"}},[t("b-form-input",{attrs:{size:"sm",trim:"",disabled:""},model:{value:e.Taxes.code,callback:function(t){e.$set(e.Taxes,"code",t)},expression:"Taxes.code"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Nombre"}},[t("b-form-input",{attrs:{size:"sm",trim:"",disabled:""},model:{value:e.Taxes.name,callback:function(t){e.$set(e.Taxes,"name",t)},expression:"Taxes.name"}}),e._v(" "),e.$v.Taxes.name.$error?t("p",{staticClass:"text-danger text-size-required m-0"},[e._v("\n              Campo requerido.\n            ")]):e._e()],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Procentaje"}},[t("b-form-input",{attrs:{type:"number",size:"sm",trim:"",disabled:""},model:{value:e.Taxes.percentage,callback:function(t){e.$set(e.Taxes,"percentage",t)},expression:"Taxes.percentage"}}),e._v(" "),e.$v.Taxes.percentage.$error?t("p",{staticClass:"text-danger text-size-required m-0"},[e._v("\n              Campo requerido.\n            ")]):e._e()],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Tipo"}},[t("b-form-select",{attrs:{options:e.optionstaxType,disabled:""},model:{value:e.Taxes.taxType,callback:function(t){e.$set(e.Taxes,"taxType",t)},expression:"Taxes.taxType"}}),e._v(" "),e.$v.Taxes.taxType.$error?t("p",{staticClass:"text-danger text-size-required m-0"},[e._v("\n              Campo requerido.\n            ")]):e._e()],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Subcuenta de impuesto repercutido"}},[t("vueselect",{attrs:{options:e.TaxesSelectList,reduce:function(e){return e.id},label:"name",disabled:""},model:{value:e.Taxes.CreditLedgerAccountId,callback:function(t){e.$set(e.Taxes,"CreditLedgerAccountId",t)},expression:"Taxes.CreditLedgerAccountId"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Subcuenta impuesto soportado"}},[t("vueselect",{attrs:{options:e.TaxesSelectList,reduce:function(e){return e.id},label:"name",disabled:""},model:{value:e.Taxes.DebitLedgerAccountId,callback:function(t){e.$set(e.Taxes,"DebitLedgerAccountId",t)},expression:"Taxes.DebitLedgerAccountId"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[t("b-form-group",{attrs:{label:"Descripción"}},[t("b-form-textarea",{attrs:{disabled:""},model:{value:e.Taxes.description,callback:function(t){e.$set(e.Taxes,"description",t)},expression:"Taxes.description"}})],1)],1),e._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"row justify-content-end"},[t("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[t("b-button",{staticClass:"w-100",attrs:{variant:"danger"},on:{click:function(t){e.ShowModalDetails=!e.ShowModalDetails}}},[e._v("Cancelar")])],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[t("b-button",{staticClass:"w-100",staticStyle:{"background-color":"#457b9d"},attrs:{disabled:""},on:{click:function(t){return e.saveTaxes()}}},[t("span",[e._v("Guardar")])])],1)])])])])]),e._v(" "),t("b-modal",{attrs:{size:"lg",title:"Formulario de Impuestos","hide-footer":""},model:{value:e.ShowModalEdit,callback:function(t){e.ShowModalEdit=t},expression:"ShowModalEdit"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Código del impuesto"}},[t("b-form-input",{attrs:{size:"sm",trim:""},model:{value:e.Taxes.code,callback:function(t){e.$set(e.Taxes,"code",t)},expression:"Taxes.code"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Nombre"}},[t("b-form-input",{attrs:{size:"sm",trim:""},model:{value:e.Taxes.name,callback:function(t){e.$set(e.Taxes,"name",t)},expression:"Taxes.name"}}),e._v(" "),e.$v.Taxes.name.$error?t("p",{staticClass:"text-danger text-size-required m-0"},[e._v("\n              Campo requerido.\n            ")]):e._e()],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Procentaje"}},[t("b-form-input",{attrs:{type:"number",size:"sm",trim:""},model:{value:e.Taxes.percentage,callback:function(t){e.$set(e.Taxes,"percentage",t)},expression:"Taxes.percentage"}}),e._v(" "),e.$v.Taxes.percentage.$error?t("p",{staticClass:"text-danger text-size-required m-0"},[e._v("\n              Campo requerido.\n            ")]):e._e()],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Tipo"}},[t("b-form-select",{attrs:{options:e.optionstaxType},model:{value:e.Taxes.taxType,callback:function(t){e.$set(e.Taxes,"taxType",t)},expression:"Taxes.taxType"}}),e._v(" "),e.$v.Taxes.taxType.$error?t("p",{staticClass:"text-danger text-size-required m-0"},[e._v("\n              Campo requerido.\n            ")]):e._e()],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Subcuenta de impuesto repercutido"}},[t("vueselect",{attrs:{options:e.TaxesSelectList,reduce:function(e){return e.id},label:"name"},model:{value:e.Taxes.CreditLedgerAccountId,callback:function(t){e.$set(e.Taxes,"CreditLedgerAccountId",t)},expression:"Taxes.CreditLedgerAccountId"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[t("b-form-group",{attrs:{label:"Subcuenta impuesto soportado"}},[t("vueselect",{attrs:{options:e.TaxesSelectList,reduce:function(e){return e.id},label:"name"},model:{value:e.Taxes.DebitLedgerAccountId,callback:function(t){e.$set(e.Taxes,"DebitLedgerAccountId",t)},expression:"Taxes.DebitLedgerAccountId"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[t("b-form-group",{attrs:{label:"Descripción"}},[t("b-form-textarea",{model:{value:e.Taxes.description,callback:function(t){e.$set(e.Taxes,"description",t)},expression:"Taxes.description"}})],1)],1),e._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"row justify-content-end"},[t("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[t("b-button",{staticClass:"w-100",attrs:{variant:"danger"},on:{click:function(t){e.ShowModalEdit=!e.ShowModalEdit}}},[e._v("Cancelar")])],1),e._v(" "),t("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[t("b-button",{staticClass:"w-100",staticStyle:{"background-color":"#457b9d"},on:{click:function(t){return e.updateTaxes()}}},[t("span",[e._v("Guardar")])])],1)])])])])]),e._v(" "),t("div",[t("nav",{staticClass:"navbar navbar-default"},[t("div",{staticClass:"container-fluid"},[e._m(0),e._v(" "),t("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[t("a",{staticClass:"btn btn-primary btn-sm text-white",attrs:{title:"Nuevo Registro"},on:{click:function(t){return e.showModal()}}},[t("fa",{staticClass:"ml-1",attrs:{icon:"file"}}),e._v("\n            Nuevo")],1),e._v(" "),t("a",{staticClass:"btn btn-light border btn-sm text-black-50 btnRefresh",attrs:{id:"_btnRefresh",name:"_btnRefresh"},on:{click:function(t){return e.GetAllSchemaRows()}}},[t("i",{staticClass:"fas fa-sync-alt"}),e._v(" Actualizar Datos")])])])]),e._v(" "),t("vue-good-table",{attrs:{columns:e.columns,rows:e.rows,"search-options":{enabled:!0},"pagination-options":{enabled:!0,mode:"records"}},scopedSlots:e._u([{key:"table-row",fn:function(o){return["action"==o.column.field?t("span",[t("b-button",{staticClass:"btn btn-light btn-sm",on:{click:function(t){return e.showTaxes(o.row)}}},[t("fa",{attrs:{icon:"eye"}})],1),e._v(" "),t("b-button",{staticClass:"btn btn-light btn-sm",on:{click:function(t){return e.removeTaxes(o.row.id)}}},[t("fa",{attrs:{icon:"trash"}})],1),e._v(" "),t("b-button",{staticClass:"btn btn-light btn-sm",on:{click:function(t){return e.editTaxes(o.row)}}},[t("fa",{attrs:{icon:"edit"}}),e._v("\n            >")],1)],1):t("span",[e._v("\n          "+e._s(o.formattedRow[o.column.field])+"\n        ")])]}}])})],1)],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"navbar-header"},[e("div",[this._v("Listado de Impuestos")])])}],!1,null,null,null);t.default=component.exports}}]);