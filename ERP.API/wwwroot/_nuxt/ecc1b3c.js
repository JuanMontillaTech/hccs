(window.webpackJsonp=window.webpackJsonp||[]).push([[10,28,34],{586:function(t,e,o){var map={"./af":450,"./af.js":450,"./ar":451,"./ar-dz":452,"./ar-dz.js":452,"./ar-kw":453,"./ar-kw.js":453,"./ar-ly":454,"./ar-ly.js":454,"./ar-ma":455,"./ar-ma.js":455,"./ar-sa":456,"./ar-sa.js":456,"./ar-tn":457,"./ar-tn.js":457,"./ar.js":451,"./az":458,"./az.js":458,"./be":459,"./be.js":459,"./bg":460,"./bg.js":460,"./bm":461,"./bm.js":461,"./bn":462,"./bn-bd":463,"./bn-bd.js":463,"./bn.js":462,"./bo":464,"./bo.js":464,"./br":465,"./br.js":465,"./bs":466,"./bs.js":466,"./ca":467,"./ca.js":467,"./cs":468,"./cs.js":468,"./cv":469,"./cv.js":469,"./cy":470,"./cy.js":470,"./da":471,"./da.js":471,"./de":472,"./de-at":473,"./de-at.js":473,"./de-ch":474,"./de-ch.js":474,"./de.js":472,"./dv":475,"./dv.js":475,"./el":476,"./el.js":476,"./en-au":477,"./en-au.js":477,"./en-ca":478,"./en-ca.js":478,"./en-gb":479,"./en-gb.js":479,"./en-ie":480,"./en-ie.js":480,"./en-il":481,"./en-il.js":481,"./en-in":482,"./en-in.js":482,"./en-nz":483,"./en-nz.js":483,"./en-sg":484,"./en-sg.js":484,"./eo":485,"./eo.js":485,"./es":486,"./es-do":487,"./es-do.js":487,"./es-mx":488,"./es-mx.js":488,"./es-us":489,"./es-us.js":489,"./es.js":486,"./et":490,"./et.js":490,"./eu":491,"./eu.js":491,"./fa":492,"./fa.js":492,"./fi":493,"./fi.js":493,"./fil":494,"./fil.js":494,"./fo":495,"./fo.js":495,"./fr":496,"./fr-ca":497,"./fr-ca.js":497,"./fr-ch":498,"./fr-ch.js":498,"./fr.js":496,"./fy":499,"./fy.js":499,"./ga":500,"./ga.js":500,"./gd":501,"./gd.js":501,"./gl":502,"./gl.js":502,"./gom-deva":503,"./gom-deva.js":503,"./gom-latn":504,"./gom-latn.js":504,"./gu":505,"./gu.js":505,"./he":506,"./he.js":506,"./hi":507,"./hi.js":507,"./hr":508,"./hr.js":508,"./hu":509,"./hu.js":509,"./hy-am":510,"./hy-am.js":510,"./id":511,"./id.js":511,"./is":512,"./is.js":512,"./it":513,"./it-ch":514,"./it-ch.js":514,"./it.js":513,"./ja":515,"./ja.js":515,"./jv":516,"./jv.js":516,"./ka":517,"./ka.js":517,"./kk":518,"./kk.js":518,"./km":519,"./km.js":519,"./kn":520,"./kn.js":520,"./ko":521,"./ko.js":521,"./ku":522,"./ku.js":522,"./ky":523,"./ky.js":523,"./lb":524,"./lb.js":524,"./lo":525,"./lo.js":525,"./lt":526,"./lt.js":526,"./lv":527,"./lv.js":527,"./me":528,"./me.js":528,"./mi":529,"./mi.js":529,"./mk":530,"./mk.js":530,"./ml":531,"./ml.js":531,"./mn":532,"./mn.js":532,"./mr":533,"./mr.js":533,"./ms":534,"./ms-my":535,"./ms-my.js":535,"./ms.js":534,"./mt":536,"./mt.js":536,"./my":537,"./my.js":537,"./nb":538,"./nb.js":538,"./ne":539,"./ne.js":539,"./nl":540,"./nl-be":541,"./nl-be.js":541,"./nl.js":540,"./nn":542,"./nn.js":542,"./oc-lnc":543,"./oc-lnc.js":543,"./pa-in":544,"./pa-in.js":544,"./pl":545,"./pl.js":545,"./pt":546,"./pt-br":547,"./pt-br.js":547,"./pt.js":546,"./ro":548,"./ro.js":548,"./ru":549,"./ru.js":549,"./sd":550,"./sd.js":550,"./se":551,"./se.js":551,"./si":552,"./si.js":552,"./sk":553,"./sk.js":553,"./sl":554,"./sl.js":554,"./sq":555,"./sq.js":555,"./sr":556,"./sr-cyrl":557,"./sr-cyrl.js":557,"./sr.js":556,"./ss":558,"./ss.js":558,"./sv":559,"./sv.js":559,"./sw":560,"./sw.js":560,"./ta":561,"./ta.js":561,"./te":562,"./te.js":562,"./tet":563,"./tet.js":563,"./tg":564,"./tg.js":564,"./th":565,"./th.js":565,"./tk":566,"./tk.js":566,"./tl-ph":567,"./tl-ph.js":567,"./tlh":568,"./tlh.js":568,"./tr":569,"./tr.js":569,"./tzl":570,"./tzl.js":570,"./tzm":571,"./tzm-latn":572,"./tzm-latn.js":572,"./tzm.js":571,"./ug-cn":573,"./ug-cn.js":573,"./uk":574,"./uk.js":574,"./ur":575,"./ur.js":575,"./uz":576,"./uz-latn":577,"./uz-latn.js":577,"./uz.js":576,"./vi":578,"./vi.js":578,"./x-pseudo":579,"./x-pseudo.js":579,"./yo":580,"./yo.js":580,"./zh-cn":581,"./zh-cn.js":581,"./zh-hk":582,"./zh-hk.js":582,"./zh-mo":583,"./zh-mo.js":583,"./zh-tw":584,"./zh-tw.js":584};function n(t){var e=c(t);return o(e)}function c(t){if(!o.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=c,t.exports=n,n.id=586},587:function(t,e,o){var content=o(591);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("86dda686",content,!0,{sourceMap:!1})},590:function(t,e,o){"use strict";o(587)},591:function(t,e,o){var n=o(52)((function(i){return i[1]}));n.push([t.i,".loader[data-v-297c2299]{color:#bbb;text-align:center}.req[data-v-297c2299]{color:#ff0202}",""]),n.locals={},t.exports=n},592:function(t,e,o){"use strict";o.r(e);o(18),o(19),o(4),o(2),o(7),o(8),o(9),o(6),o(10);var n=o(0),c=(o(76),o(77),o(183)),r=o(601),l=o(599),m=o.n(l),d=o(600),h=o.n(d);function f(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function v(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}Object(c.c)("required",v(v({},r.a),{},{message:"El campo es requerido"}));var _={name:"InfiniteScroll",components:{ValidationProvider:c.b,ckeditor:m.a.component},data:function(){return{Scheme:{},editor:h.a,years:null,allowedTypes:[{type:0,inputType:"text"},{type:2,inputType:"text"},{type:6,inputType:"password"},{type:7,inputType:"text"},{type:9,inputType:"date"}]}},props:["item","FieldsData","labelShow"],watch:{Scheme:{handler:function(){this.$emit("CustomChange",this.Scheme)},deep:!0}},created:function(){this.Scheme=this.FieldsData,void 0===this.Scheme[this.item.field]?this.SetValues():(9===this.item.type&&this.Scheme[this.item.field]&&(this.Scheme[this.item.field]=this.Scheme[this.item.field].substr(0,10)),11===this.item.type&&(this.years=this.generateYears(2020,(new Date).getFullYear()+5)))},methods:{isAllowedType:function(t){return this.allowedTypes.some((function(e){return e.type===t}))},getAllowedType:function(t){return this.allowedTypes.find((function(e){return e.type===t}))},SetValues:function(){if(this.Scheme[this.item.field]=this.item.defaultValue,9===this.item.type){var t=new Date;this.Scheme[this.item.field]=t.toISOString().substr(0,10)}11===this.item.type&&(this.years=this.generateYears(2020,(new Date).getFullYear()+5)),3===this.item.type&&(this.Scheme[this.item.field]=["true","yes","1"].includes(this.item.defaultValue))},GetLitValue:function(t,e){this.Scheme[t]=e},generateYears:function(t,e){for(var o=[],n=t;n<=e;n++)o.push(n);return o}}},j=(o(590),o(17)),component=Object(j.a)(_,(function(){var t=this,e=t._self._c;return e("div",[t.item.showForm&&t.item.isActive?[e("tr",[e("th",[t._v(t._s(t.item.label)+"    "),t.item.isRequired?e("span",{staticClass:"req"},[t._v("*")]):t._e()])]),t._v(" "),e("tr",[e("td",[t.isAllowedType(t.item.type)?e("b-form-group",{attrs:{"label-for":"input-".concat(t.item.type,"-").concat(t.item.field),"label-cols-sm":"4"}},[e("b-form-input",{staticStyle:{width:"250px"},attrs:{id:"input-".concat(t.item.type,"-").concat(t.item.field),type:t.getAllowedType(t.item.type).inputType,size:"sm",autocomplete:"off",name:t.item.field,readonly:7===t.item.type},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),1===t.item.type?e("b-form-group",{attrs:{"label-for":"select-1","label-cols-sm":"4"}},[e("vSelect",{staticStyle:{width:"250px"},attrs:{id:"select-".concat(t.item.type,"-").concat(t.item.field),field:t.item,select:t.Scheme[t.item.field],size:"sm"},on:{CustomChange:t.GetLitValue}})],1):t._e(),t._v(" "),10===t.item.type?e("b-form-group",{attrs:{"label-for":"select-10","label-cols-sm":"4"}},[e("vSelectContact",{attrs:{id:"select-10",field:t.item,select:t.Scheme[t.item.field]},on:{CustomChange:t.GetLitValue}})],1):t._e(),t._v(" "),3===t.item.type?e("b-form-group",{attrs:{"label-cols-sm":"4"}},[e("b-form-checkbox",{attrs:{name:t.item.field,id:"checkbox-".concat(t.item.type,"-").concat(t.item.field),switch:""},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),4===t.item.type?e("b-form-group",{attrs:{"label-for":"datepicker-4","label-cols-sm":"4"}},[e("b-form-datepicker",{attrs:{id:"datepicker-".concat(t.item.type,"-").concat(t.item.field),name:t.item.field,locale:"es",size:"sm",disabled:"show"==t.$route.query.Action},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),5===t.item.type?e("b-form-group",{attrs:{"label-for":"textarea-5","label-cols-sm":"4"}},[e("b-form-textarea",{attrs:{id:"textarea-".concat(t.item.type,"-").concat(t.item.field),rows:"3",size:"sm","max-rows":"6",name:t.item.field},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),8===t.item.type?e("b-form-group",{attrs:{"label-cols-sm":"4"}},[e("ckeditor",{attrs:{editor:t.editor,name:t.item.field},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}}),t._v(" "),e("div",{domProps:{innerHTML:t._s(t.Scheme[t.item.field])}})],1):t._e(),t._v(" "),11===t.item.type?e("b-form-group",{attrs:{"label-cols-sm":"4"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.Scheme[t.item.field],expression:"Scheme[item.field]"}],staticClass:"form-control form-control-sm",attrs:{id:"input-".concat(t.item.type,"-").concat(t.item.field)},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Scheme,t.item.field,e.target.multiple?o:o[0])}}},t._l(t.years,(function(o){return e("option",{key:o,domProps:{value:o}},[t._v(t._s(o))])})),0)]):t._e()],1)])]:t._e()],2)}),[],!1,null,"297c2299",null);e.default=component.exports},675:function(t,e,o){var content=o(744);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("2cdbf458",content,!0,{sourceMap:!1})},743:function(t,e,o){"use strict";o(675)},744:function(t,e,o){var n=o(52)((function(i){return i[1]}));n.push([t.i,".loader[data-v-5eba976c]{color:#bbb;text-align:center}",""]),n.locals={},t.exports=n},770:function(t,e,o){var content=o(840);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("7d2cd13f",content,!0,{sourceMap:!1})},792:function(t,e,o){"use strict";o.r(e);o(25),o(8),o(67);var n={name:"InfiniteScroll",data:function(){return{ContactData:{id:null},GroupTaxes:{id:null}}},props:["ConctactId"],computed:{},watch:{ConctactId:function(t){this.onSearch(this.ConctactId)}},mounted:function(){null!=this.IdConctact&&(this.ContactData.id=this.IdConctact,this.onSearch(this.ConctactId))},methods:{onSearch:function(t){var e=this,o="Contact/GetById?Id=".concat(t);this.$axios.get(o).then((function(t){e.ContactData=t.data.data,e.onSearchTaxt(e.ContactData.taxesId)})).catch((function(t){}))},onSearchTaxt:function(t){var e=this;if(null!=t){var o="GroupTaxes/GetById?Id=".concat(t);this.$axios.get(o).then((function(t){e.GroupTaxes=t.data.data})).catch((function(t){}))}}}},c=(o(743),o(17)),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e("div",[null!=t.ContactData.id?e("div",[e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[e("hr",{staticClass:"new1"}),t._v(" "),e("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[e("h4",{staticClass:"card-title"},[t._v("Impuestos del Contacto")]),t._v(" "),null===t.ContactData.documentNumber?e("b-alert",{attrs:{show:"",variant:"warning"}},[t._v("  No es posible generar facturas con impuestos. Por favor, asigne un número fiscal válido para\n                  continuar.")]):t._e(),t._v(" "),e("table",{staticClass:"table table-striped"},[e("thead",[e("tr",[e("th",[t._v("Nombre")]),t._v(" "),e("th",[t._v("Número Identificación")]),t._v(" "),e("th",[t._v("Tipo Comprobante")]),t._v(" "),e("th",{staticClass:"text-right"},[t._v("Grupo Impuestos")]),t._v(" "),e("th",[t._v("Teléfono")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v(t._s(t.ContactData.name))]),t._v(" "),null!=t.ContactData.documentNumber?e("td",[t._v("\n                  "+t._s(t.ContactData.documentNumber)+"\n                ")]):e("td",[t._v("\n                No existe un número de identificación\n                ")]),t._v(" "),e("td",[t._v(t._s(t.ContactData.numeration.name))]),t._v(" "),e("td",[t._v(t._s(t.GroupTaxes.description))]),t._v(" "),e("td",[t._v(t._s(t.ContactData.phone1)+" "+t._s(t.ContactData.phone2))])])])])],1)],1)])]):t._e()])}),[],!1,null,"5eba976c",null);e.default=component.exports},839:function(t,e,o){"use strict";o(770)},840:function(t,e,o){var n=o(52)((function(i){return i[1]}));n.push([t.i,"hr.new1{border-top:1px solid blue}.text-size-required{font-size:12px}",""]),n.locals={},t.exports=n},931:function(t,e,o){"use strict";o.r(e);o(25),o(8),o(67);var n=o(30),c=(o(75),o(12),o(134),o(18),o(2),o(6),o(4),o(76),o(135),o(182),o(585)),r=o(448),l={head:function(){return{title:"".concat(this.DataForm.title," | ERP")}},data:function(){return{limit:10,search:"",offset:0,FormId:"",DataForm:[],DataFormSection:[],DataFormTax:[],DataFormSectionTax:[],fields:[],fieldsTax:[],principalSchema:{contactId:null,code:null,date:null,reference:null,globalDiscount:0,globalTotal:0,globalTotalTax:0,transactionsType:1,transactionsDetails:null,numerationId:null,commentary:"",taxesId:"69a423e6-1b00-4873-9003-e83d9ff13bda"},schema:{id:null,transactionsId:null,referenceId:null,description:null,amount:1,price:0,discount:0,total:0,tax:0},conceptSelectList:[],rows:[],invoice_subtotal:0,invoice_total:0,invoice_totalTax:0,invoice_subtotalTax:0,invoice_tax:0,listTransactionsDetails:[{id:null,concept:null,transactionsId:null,referenceId:null,description:null,amount:1,price:0,priceWithTax:0,discount:0,total:0,totalTax:0,tax:0}]}},created:function(){this.FormId=this.$route.query.Form,this.GetFormRows(),"edit"===this.$route.query.Action&&this.getTransactionsDetails()},methods:{onSearch:function(t){var e=this;if(this.search=t,t.length>=3){var o="Concept/GetFilter?PageNumber=".concat(this.offset,"&PageSize=").concat(this.limit,"&Search=").concat(this.search);this.$axios.get("".concat(o)).then((function(t){var o=t.data.data.data;0===e.conceptSelectList.length?e.conceptSelectList=o:o.forEach((function(t){e.conceptSelectList.some((function(e){return e.id===t.id}))||e.conceptSelectList.push(t)}))})).catch((function(t){}))}},SetTotal:function(t){return c(t).format("0,0.00")},GetTotaltax:function(){var t=.18*parseFloat(this.invoice_totalTax),e=parseFloat(t)+parseFloat(this.invoice_totalTax);return c(parseFloat(e)).format("0,0.00")},GetTax:function(){this.invoice_totalTax;return c(parseFloat(.18*this.invoice_totalTax)).format("0,0.00")},getDate:function(){var t=new Date,e=t.getDate(),o=t.getMonth()+1,n=t.getFullYear(),c="".concat(e,"/").concat(o,"/").concat(n);this.principalSchema.date=c},GetValueFormElement:function(t){this.principalSchema=t},GetLitValue:function(t,e){this.principalSchema[t]=e},GetFilterDataOnlyshowForm:function(t){return t.filter((function(t){return 1==t.showForm}))},setSelected:function(data,t){var e=this.listTransactionsDetails.find((function(element,e){return e===t})),o=this.conceptSelectList.find((function(element){return element.id==e.referenceId}));e.referenceId=o.id,e.price=o.priceSale,e.priceWithTax=o.priceWithTax,this.calculateLineTotal(e),this.calculateLineTotalWithTax(e)},GetFormRows:function(){var t=this,e="Form/GetById?Id=".concat(this.FormId);this.DataForm=[],this.DataFormSection=[],this.$axios.get(e).then((function(e){t.DataForm=e.data.data,t.GetFilds()})).catch((function(e){t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}))},GetFormRowsTax:function(){var t=this;this.DataFormTax=[],this.DataFormSectionTax=[],this.$axios.get("Form/GetById?Id=24aa3aac-d793-4ca1-b7c9-59cc279e0354").then((function(e){t.DataFormTax=e.data.data,t.GetFildsTax()})).catch((function(e){t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}))},printForm:function(t){this.$router.push({path:"/ExpressForm/Ticket?Action=print&Form=".concat(this.FormId,"&Id=").concat(t)})},GetFilds:function(){var t=this;this.$axios.get("Formfields/GetSectionWithFildsByFormID/".concat(this.FormId)).then((function(e){t.DataFormSection=e.data.data})).catch((function(e){t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}))},GetFildsTax:function(){var t=this;this.$axios.get("Formfields/GetSectionWithFildsByFormID/24aa3aac-d793-4ca1-b7c9-59cc279e0354").then((function(e){t.DataFormSectionTax=e.data.data})).catch((function(e){t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}))},calculateTotalTax:function(){var t,e;t=this.listTransactionsDetails.reduce((function(t,e){var o=parseFloat(e.totalTax);if(!isNaN(o))return t+o}),0),this.invoice_subtotalTax=t.toFixed(2),e=parseFloat(t)*(parseFloat(this.invoice_tax)/100)+parseFloat(t),e=parseFloat(e),isNaN(e)?(this.invoice_totalTax="0.00",this.principalSchema.globalTotalTax=this.invoice_totalTax):(this.invoice_totalTax=e.toFixed(2),this.principalSchema.globalTotalTax=parseFloat(this.invoice_totalTax))},calculateTotal:function(){var t,e;t=this.listTransactionsDetails.reduce((function(t,e){var o=parseFloat(e.total);if(!isNaN(o))return t+o}),0),this.invoice_subtotal=t.toFixed(2),e=t*(this.invoice_tax/100)+t,e=parseFloat(e),isNaN(e)?(this.invoice_total="0.00",this.principalSchema.globalTotal=this.invoice_total):(this.invoice_total=e.toFixed(2),this.principalSchema.globalTotal=this.invoice_total)},calculateLineTotal:function(t){var e=parseFloat(t.price)*parseFloat(t.amount);isNaN(e)||(t.total=e.toFixed(2)),this.calculateTotal(),this.calculateLineTotalWithTax(t)},calculateLineTotalWithTax:function(t){var e=parseFloat(t.priceWithTax)*parseFloat(t.amount);isNaN(e)||(t.totalTax=e.toFixed(2)),this.calculateTotalTax()},GoBack:function(){this.$router.push({path:"/ExpressForm/Index?Form=".concat(this.FormId)})},removeRow:function(t){this.listTransactionsDetails.splice(t,1),this.calculateTotal(),this.calculateTotalTax()},addRow:function(){this.listTransactionsDetails.push({id:null,transactionsId:null,referenceId:null,description:null,amount:1,price:0,discount:0,total:0,tax:0,code:null,concept:null})},FormatDate:function(t){return r(t).lang("es").format("DD/MM/YYYY")},editSchema:function(){null!=this.principalSchema.contactId?this.invoice_total>0?this.put(this.principalSchema):this.$toast.error("Total no puede ser 0","ERROR",this.izitoastConfig):this.$toast.error("Contacto es requerido","ERROR",this.izitoastConfig)},editSchemaPrint:function(){null!=this.principalSchema.contactId?this.invoice_total>0?this.putPrint(this.principalSchema):this.$toast.error("Total no puede ser 0","ERROR",this.izitoastConfig):this.$toast.error("Contacto es requerido","ERROR",this.izitoastConfig)},saveSchema:function(){null!=this.principalSchema.contactId?this.invoice_total>0?(this.principalSchema.transactionsDetails=this.listTransactionsDetails,this.post(this.principalSchema)):this.$toast.error("Total no puede ser 0","ERROR",this.izitoastConfig):this.$toast.error("Contacto es requerido","ERROR",this.izitoastConfig)},saveSchemaPrint:function(){null!=this.principalSchema.contactId?(this.principalSchema.transactionsDetails=this.listTransactionsDetails,this.invoice_total>0?this.postPrint(this.principalSchema):this.$toast.error("Total no puede ser 0","ERROR",this.izitoastConfig)):this.$toast.error("Contacto es requerido","ERROR",this.izitoastConfig)},getTransactionsDetails:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="Transaction/GetById?id=".concat(t.$route.query.Id),t.$axios.get(o).then((function(e){t.principalSchema=e.data.data,t.listTransactionsDetails=e.data.data.transactionsDetails,t.listTransactionsDetails.forEach((function(e){t.conceptSelectList.some((function(t){return t.id===e.concept.id}))||t.conceptSelectList.push(e.concept)})),t.calculateTotal(),t.calculateTotalTax()})).catch((function(t){}));case 2:case"end":return e.stop()}}),e)})))()},ValideForm:function(){return!(this.listTransactionsDetails.length<=0)},postPrint:function(data){var t=this;data.transactionsType=this.DataForm.transactionsType,data.formId=this.FormId;var e=null;this.ValideForm();this.$axios.post("Transaction/Create",data).then((function(o){e=o,t.$toast.success("El Registro ha sido creado correctamente.","ÉXITO"),t.printForm(e.data.data.id)})).catch((function(t){e=t}))},post:function(data){var t=this;data.transactionsType=this.DataForm.transactionsType,data.formId=this.FormId;this.ValideForm();this.$axios.post("Transaction/Create",data).then((function(e){e,t.$toast.success("El Registro ha sido creado correctamente.","ÉXITO"),t.GoBack()})).catch((function(t){t}))},put:function(data){var t=this;data.transactionsType=this.DataForm.transactionsType,data.formId=this.FormId;this.ValideForm();this.$axios.put("Transaction/Update",data).then((function(e){t.$toast.success("El Registro ha sido actualizado correctamente.","EXITO"),t.GoBack()})).catch((function(t){}))},putPrint:function(data){var t=this;data.transactionsType=this.DataForm.transactionsType,data.formId=this.FormId;this.ValideForm();this.$axios.put("Transaction/Update",data).then((function(e){t.$toast.success("El Registro ha sido actualizado correctamente.","EXITO"),t.printForm(data.id)})).catch((function(t){reject(t)}))},removeSchema:function(t){this.$toast.question("Esta seguro que quiere eliminar esta cuenta?","PREGUNTA",{timeout:2e4,close:!1,overlay:!0,toastOnce:!0,id:"question",zindex:999,position:"center",buttons:[["<button><b>YES</b></button>",function(e,o){e.hide({transitionOut:"fadeOut"},o,"button"),this.$axios.delete("Transaction/Delete/?id=".concat(t)).then((function(t){alert("EXITO: El Registro ha sido eliminado correctamente."),location.reload()})).catch((function(t){}))},!0],["<button>NO</button>",function(t,e){t.hide({transitionOut:"fadeOut"},e,"button")}]]})},clearForm:function(){this.invoice_subtotal=0,this.invoice_total=0,this.principalSchema={contactId:null,code:null,date:null,reference:null,paymentMethodId:null,globalDiscount:0,globalTotal:0,transactionsType:1,transactionsDetails:null,commentary:""}}}},m=(o(839),o(17)),component=Object(m.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("h4",[t._v(t._s(t.DataForm.title))]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[t._l(t.DataFormSection,(function(o,n){return e("div",{key:n},[e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[e("h4",[t._v(t._s(o.name))]),t._v(" "),e("hr",{staticClass:"new1"})])]),t._v(" "),e("div",{staticClass:"row"},t._l(t.GetFilterDataOnlyshowForm(o.fields),(function(o,n){return e("div",{key:n,staticClass:"col-4"},[e("DynamicElementGrid",{attrs:{FieldsData:t.principalSchema,item:o,labelShow:!0},on:{CustomChange:t.GetValueFormElement}})],1)})),0)])})),t._v(" "),e("table",{staticClass:"w-100"},[e("thead",[e("tr",[e("th",[t.listTransactionsDetails.length<1?[e("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.addRow()}}},[e("span",[e("i",{staticClass:"fas fa-plus"})])])]:t._e(),t._v("\n                  Concepto\n                ")],2),t._v(" "),e("th",[t._v("Cantidad")]),t._v(" "),e("th",{staticClass:"bg-warning"},[t._v("P.Impuesto")]),t._v(" "),e("th",{staticClass:"bg-warning"},[t._v("I.Total")]),t._v(" "),e("th",[t._v("Precio")]),t._v(" "),e("th",[t._v("Total")])])]),t._v(" "),e("tbody",t._l(t.listTransactionsDetails,(function(o,n){return e("tr",{key:n},[e("td",[e("b-form-group",[e("vueselect",{staticStyle:{width:"350px"},attrs:{options:t.conceptSelectList,reduce:function(t){return t.id},label:"description",placeholder:"Escriba 3 o mas digitos para buscar",size:"sm"},on:{search:t.onSearch,input:function(e){return t.setSelected(o,n)}},scopedSlots:t._u([{key:"option",fn:function(option){return[e("span",[t._v("\n                          "+t._s(option.description)+" "),e("strong",[t._v(" Ref:")]),t._v("\n                          "+t._s(option.reference)+" \n                          P.V $"+t._s(t.SetTotal(option.priceSale))+" P.I $"+t._s(t.SetTotal(option.priceWithTax))+"\n                        ")])]}}],null,!0),model:{value:o.referenceId,callback:function(e){t.$set(o,"referenceId",e)},expression:"item.referenceId"}})],1)],1),t._v(" "),e("td",[e("b-form-group",[e("b-form-input",{staticClass:"mb-2",attrs:{type:"number",size:"sm"},on:{input:function(e){return t.calculateLineTotal(o)}},model:{value:o.amount,callback:function(e){t.$set(o,"amount",e)},expression:"item.amount"}})],1)],1),t._v(" "),e("td",{staticClass:"bg-warning"},[e("b-form-group",[e("b-form-input",{staticClass:"mb-2",attrs:{type:"number",size:"sm"},on:{change:function(e){return t.calculateLineTotalWithTax(o)}},model:{value:o.priceWithTax,callback:function(e){t.$set(o,"priceWithTax",e)},expression:"item.priceWithTax"}})],1)],1),t._v(" "),e("td",{staticClass:"bg-warning"},[e("b-form-group",[e("b-form-input",{staticClass:"mb-2",attrs:{type:"number",disabled:"",size:"sm"},model:{value:o.totalTax,callback:function(e){t.$set(o,"totalTax",e)},expression:"item.totalTax"}})],1)],1),t._v(" "),e("td",[e("b-form-group",[e("b-form-input",{staticClass:"mb-2",attrs:{type:"number",size:"sm"},on:{change:function(e){return t.calculateLineTotal(o)}},model:{value:o.price,callback:function(e){t.$set(o,"price",e)},expression:"item.price"}})],1)],1),t._v(" "),e("td",[e("b-form-group",[e("b-form-input",{staticClass:"mb-2",attrs:{type:"number",disabled:"",size:"sm"},model:{value:o.total,callback:function(e){t.$set(o,"total",e)},expression:"item.total"}})],1)],1),t._v(" "),e("td",[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.removeRow(n)}}},[e("i",{staticClass:"fas fa-trash"})]),t._v(" "),e("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(e){return t.addRow()}}},[e("i",{staticClass:"fas fa-plus"})])],1)],1)])})),0)]),t._v(" "),e("div",{staticClass:"row"},[t._e(),t._v(" "),e("div",{staticClass:"col-lg-2 offset-lg-10"},[e("table",[e("tr",[e("th",[t._v("SubTotal")]),t._v(" "),e("td",[t._v("\n                    $"+t._s(t.SetTotal(t.invoice_subtotal))+"\n                  ")])]),t._v(" "),e("tr",[e("th",[t._v("Total")]),t._v(" "),e("td",[t._v("\n                   $"+t._s(t.SetTotal(t.invoice_total))+"\n                  ")])]),t._v(" "),e("tr",{staticClass:"bg-warning"},[e("th",[t._v("I.SubTotal")]),t._v(" "),e("td",{staticClass:"bg-white"},[t._v("\n                    $"+t._s(t.SetTotal(t.invoice_subtotalTax))+"\n                  ")])]),t._v(" "),e("tr",{staticClass:"bg-warning"},[e("th",[t._v("I.Impuestos")]),t._v(" "),e("td",{staticClass:"bg-white"},[t._v("\n                   $"+t._s(this.GetTax())+"\n                  ")])]),t._v(" "),e("tr",{staticClass:"bg-warning"},[e("th",[t._v("I.Total")]),t._v(" "),e("td",{staticClass:"bg-white"},[t._v("\n                  $"+t._s(this.GetTotaltax())+"\n                  ")])])])])]),t._v(" "),e("div",{staticClass:"row justify-content-end w-100 gx-2"},["edit"===t.$route.query.Action?e("div",{staticClass:"col-lg-3 offset-lg-9"},[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{staticClass:"btn",attrs:{variant:"secundary",size:"sm"},on:{click:function(e){return t.GoBack()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n                ")]),t._v(" "),e("b-button",{staticClass:"btn",attrs:{variant:"success",size:"sm"},on:{click:function(e){return t.editSchema()}}},[e("i",{staticClass:"bx bx-save"}),t._v(" Guardar\n                ")]),t._v(" "),e("b-button",{attrs:{variant:"primary",title:"Imprimir",size:"sm"},on:{click:function(e){return t.editSchemaPrint()}}},[e("i",{staticClass:"uil uil-print font-size-18"}),t._v(" Guardar Imprimir\n                ")])],1)],1):e("div",{staticClass:"col-3 p-2"},[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{staticClass:"btn",attrs:{variant:"secundary",size:"sm"},on:{click:function(e){return t.GoBack()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n                ")]),t._v(" "),e("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(e){return t.saveSchema()}}},[e("i",{staticClass:"bx bx-save"}),t._v(" Guardar\n                ")]),t._v(" "),e("b-button",{attrs:{variant:"primary",title:"Imprimir",size:"sm"},on:{click:function(e){return t.saveSchemaPrint()}}},[e("i",{staticClass:"uil uil-print font-size-18"}),t._v(" Guardar Imprimir\n                ")])],1)],1)]),t._v(" "),e("InformationContact",{attrs:{ConctactId:t.principalSchema.contactId}}),t._v(" "),e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[e("hr",{staticClass:"new1"}),t._v(" "),e("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[e("h4",{staticClass:"card-title"},[t._v("Comentario")]),t._v(" "),e("b-form-textarea",{attrs:{id:"textarea",rows:"3","max-rows":"6"},model:{value:t.principalSchema.commentary,callback:function(e){t.$set(t.principalSchema,"commentary",e)},expression:"principalSchema.commentary"}})],1)],1)]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[e("b-form-group",{attrs:{id:"input-group-2",label:"Creado Por :","label-for":"input-2"}},[e("b-form-input",{attrs:{id:"textarea",rows:"3",disabled:"","max-rows":"6"},model:{value:t.principalSchema.createdBy,callback:function(e){t.$set(t.principalSchema,"createdBy",e)},expression:"principalSchema.createdBy"}})],1)],1),t._v(" "),e("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[e("b-form-group",{attrs:{id:"input-group-2",label:"Creado en :","label-for":"input-2"}},[e("b-form-input",{attrs:{id:"textarea",rows:"3",disabled:"","max-rows":"6"},model:{value:t.principalSchema.createdDate,callback:function(e){t.$set(t.principalSchema,"createdDate",e)},expression:"principalSchema.createdDate"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[e("b-form-group",{attrs:{id:"input-group-2",label:"Modificado Por:","label-for":"input-2"}},[e("b-form-input",{attrs:{id:"textarea",rows:"3",disabled:"","max-rows":"6"},model:{value:t.principalSchema.createdBy,callback:function(e){t.$set(t.principalSchema,"createdBy",e)},expression:"principalSchema.createdBy"}})],1)],1),t._v(" "),e("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[e("b-form-group",{attrs:{id:"input-group-2",label:"Modificado en:","label-for":"input-2"}},[e("b-form-input",{attrs:{id:"textarea",rows:"3",disabled:"","max-rows":"6"},model:{value:t.principalSchema.lastModifiedDate,callback:function(e){t.$set(t.principalSchema,"lastModifiedDate",e)},expression:"principalSchema.lastModifiedDate"}})],1)],1)])],2)])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[e("h4",[t._v("Auditoría")]),t._v(" "),e("hr",{staticClass:"new1"})])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{DynamicElementGrid:o(592).default,InformationContact:o(792).default})}}]);