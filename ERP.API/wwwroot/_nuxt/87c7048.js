(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{754:function(t,e,r){var content=r(805);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(53).default)("27de9ee0",content,!0,{sourceMap:!1})},804:function(t,e,r){"use strict";r(754)},805:function(t,e,r){var o=r(52)((function(i){return i[1]}));o.push([t.i,".container{margin:auto;width:90%}",""]),o.locals={},t.exports=o},889:function(t,e,r){"use strict";r.r(e);r(25);var o=r(30),n=(r(19),r(75),{data:function(){return{asset:{id:null,name:"",assetClassId:null,locationId:null,acquisitionDate:null,acquisitionCost:0,residualValue:0,usefulLife:0,depreciationMethod:null,status:null,serialNumber:"",brand:"",model:"",commentary:""},assetClasses:[],locations:[],depreciationMethods:[{value:"Lineal",text:"Lineal"},{value:"Regresivo",text:"Regresivo"},{value:"Unidades de Producción",text:"Unidades de Producción"}],statusOptions:[{value:"En uso",text:"En uso"},{value:"En mantenimiento",text:"En mantenimiento"},{value:"Dado de baja",text:"Dado de baja"}]}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchAssetClasses();case 2:return e.next=4,t.fetchLocations();case 4:return e.next=6,t.fetchAsset();case 6:case"end":return e.stop()}}),e)})))()},methods:{fetchAssetClasses:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("AssetClass/GetAll");case 3:r=e.sent,t.assetClasses=r.data.data.map((function(t){return{value:t.id,text:t.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error(e.t0.message,"Error al obtener clases de activo",t.izitoastConfig);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},fetchLocations:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("Location/GetAll");case 3:r=e.sent,t.locations=r.data.data.map((function(t){return{value:t.id,text:t.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error(e.t0.message,"Error al obtener ubicaciones",t.izitoastConfig);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},GoBack:function(){this.$router.push("/asset")},onSubmit:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.form.validate();case 3:if(!e.sent){e.next=9;break}return e.next=7,t.$axios.put("Asset/Update",t.asset);case 7:t.$toast.success("Activo actualizado correctamente.","Éxito",t.izitoastConfig),t.GoBack();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.$toast.error(e.t0.message,"Error al actualizar el activo",t.izitoastConfig);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},fetchAsset:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.$route.query.id,e.next=4,t.$axios.get("Asset/GetById?id=".concat(r));case 4:o=e.sent,t.asset=o.data.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$toast.error(e.t0.message,"Error al obtener el activo",t.izitoastConfig);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}}),l=(r(804),r(18)),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("h4",[t._v("Editar Activo")]),t._v(" "),e("ValidationObserver",{ref:"form"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 p-2"},[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{staticClass:"btn",attrs:{variant:"secondary",size:"sm"},on:{click:t.GoBack}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n                        ")]),t._v(" "),e("b-button",{attrs:{variant:"success",title:"Guardar",size:"sm"},on:{click:t.onSubmit}},[e("i",{staticClass:"uil uil-print font-size-18"}),t._v(" Guardar\n                        ")])],1)],1),t._v(" "),e("div",{staticClass:"col-lg-12 p-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",staticStyle:{"background-color":"white"}},[e("h5",{staticClass:"text-center"},[t._v("Editar Activo")])]),t._v(" "),e("div",{staticClass:"card-body justify-content-center container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Nombre","label-for":"name","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-input",{attrs:{id:"name",type:"text",size:"sm",state:!(o.length>0)&&null},model:{value:t.asset.name,callback:function(e){t.$set(t.asset,"name",e)},expression:"asset.name"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v("Campo requerido")]):t._e()]}}])})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Clase de Activo","label-for":"assetClassId","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-select",{attrs:{id:"assetClassId",options:t.assetClasses,size:"sm",state:!(o.length>0)&&null},model:{value:t.asset.assetClassId,callback:function(e){t.$set(t.asset,"assetClassId",e)},expression:"asset.assetClassId"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v("Campo requerido")]):t._e()]}}])})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Ubicación","label-for":"locationId","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-select",{attrs:{id:"locationId",options:t.locations,size:"sm",state:!(o.length>0)&&null},model:{value:t.asset.locationId,callback:function(e){t.$set(t.asset,"locationId",e)},expression:"asset.locationId"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v("Campo requerido")]):t._e()]}}])})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Fecha de Adquisición","label-for":"acquisitionDate","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-input",{attrs:{id:"acquisitionDate",type:"date",size:"sm",state:!(o.length>0)&&null},model:{value:t.asset.acquisitionDate,callback:function(e){t.$set(t.asset,"acquisitionDate",e)},expression:"asset.acquisitionDate"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v("Campo requerido")]):t._e()]}}])})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Costo de Adquisición","label-for":"acquisitionCost","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required|numeric"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-input",{attrs:{id:"acquisitionCost",type:"number",size:"sm",state:!(o.length>0)&&null},model:{value:t.asset.acquisitionCost,callback:function(e){t.$set(t.asset,"acquisitionCost",e)},expression:"asset.acquisitionCost"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v("Campo requerido")]):t._e()]}}])})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Valor Residual","label-for":"residualValue","label-cols":4}},[e("b-form-input",{attrs:{id:"residualValue",type:"number",size:"sm"},model:{value:t.asset.residualValue,callback:function(e){t.$set(t.asset,"residualValue",e)},expression:"asset.residualValue"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Vida Útil","label-for":"usefulLife","label-cols":4}},[e("b-form-input",{attrs:{id:"usefulLife",type:"number",size:"sm"},model:{value:t.asset.usefulLife,callback:function(e){t.$set(t.asset,"usefulLife",e)},expression:"asset.usefulLife"}})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Método de Depreciación","label-for":"depreciationMethod","label-cols":4}},[e("b-form-select",{attrs:{id:"depreciationMethod",options:t.depreciationMethods,size:"sm"},model:{value:t.asset.depreciationMethod,callback:function(e){t.$set(t.asset,"depreciationMethod",e)},expression:"asset.depreciationMethod"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Número de Serie","label-for":"serialNumber","label-cols":4}},[e("b-form-input",{attrs:{id:"serialNumber",type:"text",size:"sm"},model:{value:t.asset.serialNumber,callback:function(e){t.$set(t.asset,"serialNumber",e)},expression:"asset.serialNumber"}})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Marca","label-for":"brand","label-cols":4}},[e("b-form-input",{attrs:{id:"brand",type:"text",size:"sm"},model:{value:t.asset.brand,callback:function(e){t.$set(t.asset,"brand",e)},expression:"asset.brand"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Modelo","label-for":"model","label-cols":4}},[e("b-form-input",{attrs:{id:"model",type:"text",size:"sm"},model:{value:t.asset.model,callback:function(e){t.$set(t.asset,"model",e)},expression:"asset.model"}})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:" Estado","label-for":"depreciationMethod","label-cols":4}},[e("b-form-select",{attrs:{id:"depreciationMethod",options:t.statusOptions,size:"sm"},model:{value:t.asset.Status,callback:function(e){t.$set(t.asset,"Status",e)},expression:"asset.Status"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("b-form-group",{attrs:{label:"Comentario","label-for":"commentary","label-cols":2}},[e("b-form-textarea",{attrs:{id:"commentary",rows:"3",size:"sm"},model:{value:t.asset.commentary,callback:function(e){t.$set(t.asset,"commentary",e)},expression:"asset.commentary"}})],1)],1)])])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 p-2"},[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{staticClass:"btn",attrs:{variant:"secondary",size:"sm"},on:{click:t.GoBack}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n                        ")]),t._v(" "),e("b-button",{attrs:{variant:"success",title:"Guardar",size:"sm"},on:{click:t.onSubmit}},[e("i",{staticClass:"uil uil-print font-size-18"}),t._v(" Guardar\n                        ")])],1)],1)])])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);