(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{757:function(t,e,o){var content=o(809);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("14c000a8",content,!0,{sourceMap:!1})},808:function(t,e,o){"use strict";o(757)},809:function(t,e,o){var c=o(52)((function(i){return i[1]}));c.push([t.i,".text-size-required{font-size:12px}",""]),c.locals={},t.exports=c},894:function(t,e,o){"use strict";o.r(e);o(25);var c=o(30),n=(o(19),o(2),o(75),o(101),o(755)),r=o.n(n),l=o(602),d={layout:"TheSlidebar",name:"CatalogosDeCuentas",components:{VJstree:r.a},data:function(){return{Account:{belongs:null,name:null,code:null,commentary:null,nature:0,locationStatusResult:0},izitoastConfig:{position:"topRight"},ShowModalCreate:!1,ShowModalEdit:!1,ShowModalDelete:!1,ShowModalDetails:!1,accountSelectList:[],columns:[{label:"Título",field:"name",width:"50px"},{label:"Descripción",field:"commentary",width:"50px"},{label:"Acciones",field:"action",width:"50px"}],rows:[]}},middleware:"authentication",created:function(){this.GetAllSchemaRows(),this.getListForSelect()},validations:{Account:{name:{required:l.required}}},methods:{getListForSelect:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"LedgerAccount/GetAll",o=null,t.$axios.get("LedgerAccount/GetAll").then((function(e){o=e,t.accountSelectList=o.data.data})).catch((function(e){t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}));case 3:case"end":return e.stop()}}),e)})))()},showModal:function(){this.ShowModalCreate=!0,this.clearForm()},GetAllSchemaRows:function(){var t=this;this.rows=[],this.$axios.get("LedgerAccount/GetAll").then((function(e){e.data.data.map((function(e){var o={id:e.id,commentary:e.commentary,name:e.name,code:e.code};t.rows.push(o)}))})).catch((function(e){t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}))},showAccount:function(t){this.ShowModalDetails=!0,this.Account=t},editAccount:function(t){this.ShowModalEdit=!0,this.Account=t},removeAccount:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e.$toast.question("Esta seguro que quiere eliminar esta cuenta?","PREGUNTA",{timeout:2e4,close:!1,overlay:!0,toastOnce:!0,id:"question",zindex:999,position:"center",buttons:[["<button><b>YES</b></button>",function(e,o){e.hide({transitionOut:"fadeOut"},o,"button");var c="LedgerAccount/Delete/?id=".concat(t);this.$axios.delete(c).then((function(t){alert("EXITO: El Registro ha sido eliminado correctamente."),location.reload()})).catch((function(t){return alert(t)}))},!0],["<button>NO</button>",function(t,e){t.hide({transitionOut:"fadeOut"},e,"button")}]]});case 1:case"end":return o.stop()}}),o)})))()},saveAccount:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$v.$touch(),!t.$v.$invalid){e.next=5;break}t.$toast.error("Por favor complete el formulario correctamente.","ERROR",t.izitoastConfig),e.next=7;break;case 5:return"LedgerAccount/Create",e.abrupt("return",new Promise((function(e,o){t.$axios.post("LedgerAccount/Create",t.Account).then((function(o){e(o),t.$toast.success("La cuenta ha sido creado correctamente.","EXITO",t.izitoastConfig),t.ShowModalCreate=!1,t.clearForm(),t.GetAllSchemaRows()})).catch((function(e){o(e),t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}))})));case 7:case"end":return e.stop()}}),e)})))()},updateAccount:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$v.$touch(),!t.$v.$invalid){e.next=5;break}t.$toast.error("Por favor complete el formulario correctamente.","ERROR",t.izitoastConfig),e.next=7;break;case 5:return"LedgerAccount/Update",e.abrupt("return",new Promise((function(e,o){t.$axios.put("LedgerAccount/Update",t.Account).then((function(o){e(o),t.$toast.success("La Cuenta ha sido actualizada correctamente.","EXITO",t.izitoastConfig),t.ShowModalEdit=!1,t.clearForm(),t.GetAllSchemaRows()})).catch((function(e){o(e),t.$toast.error("".concat(e),"ERROR",t.izitoastConfig)}))})));case 7:case"end":return e.stop()}}),e)})))()},clearForm:function(){this.Account={belongs:null,name:null,code:null,commentary:null,nature:0,locationStatusResult:0}}}},m=(o(808),o(18)),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("b-modal",{attrs:{size:"md",title:"Formulario de Catálogo de cuentas","hide-footer":""},model:{value:t.ShowModalCreate,callback:function(e){t.ShowModalCreate=e},expression:"ShowModalCreate"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Nombre"}},[e("b-form-input",{attrs:{size:"sm",trim:""},model:{value:t.Account.name,callback:function(e){t.$set(t.Account,"name",e)},expression:"Account.name"}}),t._v(" "),t.$v.Account.name.$error?e("p",{staticClass:"text-danger text-size-required m-0"},[t._v("\n              Nombre requerido.\n            ")]):t._e()],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Código de la cuenta"}},[e("b-form-input",{attrs:{size:"sm",trim:""},model:{value:t.Account.code,callback:function(e){t.$set(t.Account,"code",e)},expression:"Account.code"}})],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Cuenta de la que dependiente"}},[e("vueselect",{attrs:{options:t.accountSelectList,reduce:function(t){return t.id},label:"name"},model:{value:t.Account.belongs,callback:function(e){t.$set(t.Account,"belongs",e)},expression:"Account.belongs"}})],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Descripción"}},[e("b-form-textarea",{model:{value:t.Account.commentary,callback:function(e){t.$set(t.Account,"commentary",e)},expression:"Account.commentary"}})],1)],1),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-end"},[e("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[e("b-button",{staticClass:"w-100",attrs:{variant:"danger"},on:{click:function(e){t.ShowModalCreate=!t.ShowModalCreate}}},[t._v("Cancelar")])],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[e("b-button",{staticClass:"w-100",staticStyle:{"background-color":"#457b9d"},on:{click:function(e){return t.saveAccount()}}},[e("span",[t._v("Guardar")])])],1)])])])])]),t._v(" "),e("b-modal",{attrs:{size:"md",title:"Formulario de Catálogo de cuentas","hide-footer":""},model:{value:t.ShowModalDetails,callback:function(e){t.ShowModalDetails=e},expression:"ShowModalDetails"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Nombre"}},[e("b-form-input",{attrs:{size:"sm",trim:"",disabled:""},model:{value:t.Account.name,callback:function(e){t.$set(t.Account,"name",e)},expression:"Account.name"}})],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Código de la cuenta"}},[e("b-form-input",{attrs:{size:"sm",trim:"",disabled:""},model:{value:t.Account.code,callback:function(e){t.$set(t.Account,"code",e)},expression:"Account.code"}})],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Cuenta de la que dependiente"}},[e("vueselect",{attrs:{options:t.accountSelectList,reduce:function(t){return t.id},label:"name",disabled:""},model:{value:t.Account.belongs,callback:function(e){t.$set(t.Account,"belongs",e)},expression:"Account.belongs"}})],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Descripción"}},[e("b-form-textarea",{attrs:{disabled:""},model:{value:t.Account.commentary,callback:function(e){t.$set(t.Account,"commentary",e)},expression:"Account.commentary"}})],1)],1),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-end"},[e("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[e("b-button",{staticClass:"w-100",attrs:{variant:"danger"},on:{click:function(e){t.ShowModalDetails=!t.ShowModalDetails}}},[t._v("Cancelar")])],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[e("b-button",{staticClass:"w-100",staticStyle:{"background-color":"#457b9d"},attrs:{disabled:""},on:{click:function(e){return t.saveAccount()}}},[e("span",[t._v("Guardar")])])],1)])])])])]),t._v(" "),e("b-modal",{attrs:{size:"md",title:"Formulario de Catálogo de cuentas","hide-footer":""},model:{value:t.ShowModalEdit,callback:function(e){t.ShowModalEdit=e},expression:"ShowModalEdit"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Nombre"}},[e("b-form-input",{attrs:{size:"sm",trim:""},model:{value:t.Account.name,callback:function(e){t.$set(t.Account,"name",e)},expression:"Account.name"}}),t._v(" "),t.$v.Account.name.$error?e("p",{staticClass:"text-danger text-size-required m-0"},[t._v("\n              Nombre requerido.\n            ")]):t._e()],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Código de la cuenta"}},[e("b-form-input",{attrs:{size:"sm",trim:""},model:{value:t.Account.code,callback:function(e){t.$set(t.Account,"code",e)},expression:"Account.code"}})],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Cuenta de la que dependiente"}},[e("vueselect",{attrs:{options:t.accountSelectList,reduce:function(t){return t.id},label:"name"},model:{value:t.Account.belongs,callback:function(e){t.$set(t.Account,"belongs",e)},expression:"Account.belongs"}})],1)],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12"},[e("b-form-group",{attrs:{label:"Descripción"}},[e("b-form-textarea",{model:{value:t.Account.commentary,callback:function(e){t.$set(t.Account,"commentary",e)},expression:"Account.commentary"}})],1)],1),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-end"},[e("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[e("b-button",{staticClass:"w-100",attrs:{variant:"danger"},on:{click:function(e){t.ShowModalEdit=!t.ShowModalEdit}}},[t._v("Cancelar")])],1),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-4 col-lg-4"},[e("b-button",{staticClass:"w-100",staticStyle:{"background-color":"#457b9d"},on:{click:function(e){return t.updateAccount()}}},[e("span",[t._v("Guardar")])])],1)])])])])]),t._v(" "),e("div",[e("nav",{staticClass:"navbar navbar-default"},[e("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("a",{staticClass:"btn btn-primary btn-sm text-white",attrs:{title:"Nuevo Registro"},on:{click:function(e){return t.showModal()}}},[e("i",{staticClass:"fas fa-file"}),t._v("\n            Nuevo")]),t._v(" "),e("a",{staticClass:"btn btn-light border btn-sm text-black-50 btnRefresh",attrs:{id:"_btnRefresh",name:"_btnRefresh"},on:{click:function(e){return t.GetAllSchemaRows()}}},[e("i",{staticClass:"fas fa-sync-alt"}),t._v(" Actualizar Datos")])])])]),t._v(" "),e("vue-good-table",{attrs:{columns:t.columns,rows:t.rows,"search-options":{enabled:!0},"pagination-options":{enabled:!0,mode:"records"}},scopedSlots:t._u([{key:"table-row",fn:function(o){return["action"==o.column.field?e("span",[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.removeAccount(o.row.id)}}},[e("i",{staticClass:"fas fa-trash"})]),t._v(" "),e("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(e){return t.editAccount(o.row)}}},[e("i",{staticClass:"fas fa-edit"})])],1)],1):e("span",[t._v("\n        "+t._s(o.formattedRow[o.column.field])+"\n      ")])]}}])})],1)],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"navbar-header"},[t("div",[t("h4",[this._v("Listado de Catalogos De Cuentas")])])])}],!1,null,null,null);e.default=component.exports}}]);