(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{751:function(t,e,r){var content=r(795);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(53).default)("377c91f3",content,!0,{sourceMap:!1})},794:function(t,e,r){"use strict";r(751)},795:function(t,e,r){var o=r(52)((function(i){return i[1]}));o.push([t.i,".container{margin:auto;width:90%}",""]),o.locals={},t.exports=o},873:function(t,e,r){"use strict";r.r(e);var o=r(30),n=(r(19),r(25),r(75),r(601),{data:function(){return{asset:{Id:null,Name:"",AssetClassId:null,LocationId:null,AcquisitionDate:null,AcquisitionCost:0,ResidualValue:0,UsefulLife:0,DepreciationMethod:null,Status:null,SerialNumber:"",Brand:"",Model:"",Commentary:""},assetClasses:[],locations:[],depreciationMethods:[{value:"Lineal",text:"Lineal"},{value:"Regresivo",text:"Regresivo"},{value:"Unidades de Producción",text:"Unidades de Producción"}],statusOptions:[{value:"En uso",text:"En uso"},{value:"En mantenimiento",text:"En mantenimiento"},{value:"Dado de baja",text:"Dado de baja"}],DataForm:[]}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchAssetClasses();case 2:return e.next=4,t.fetchLocations();case 4:t.loadData();case 5:case"end":return e.stop()}}),e)})))()},methods:{fetchAssetClasses:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("AssetClass/GetAll");case 3:r=e.sent,t.assetClasses=r.data.data.map((function(t){return{value:t.id,text:t.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error(e.t0.message,"Error al obtener clases de activo",t.izitoastConfig);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},fetchLocations:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("Location/GetAll");case 3:r=e.sent,t.locations=r.data.data.map((function(t){return{value:t.id,text:t.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$toast.error(e.t0.message,"Error al obtener ubicaciones",t.izitoastConfig);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},GoBack:function(){this.$router.push("/asset")},onSubmit:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.form.validate();case 3:if(!e.sent){e.next=16;break}if(!t.asset.Id){e.next=12;break}return console.log(t.asset),e.next=9,t.$axios.put("Asset/Update",t.asset);case 9:t.$toast.success("Activo actualizado correctamente.","Éxito",t.izitoastConfig),e.next=15;break;case 12:return e.next=14,t.$axios.post("Asset/Create",t.asset);case 14:t.$toast.success("Activo creado correctamente.","Éxito",t.izitoastConfig);case 15:t.GoBack();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),t.$toast.error(e.t0.message,"Error al guardar el activo",t.izitoastConfig);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))()},loadData:function(){var t=this.$route.params.id;t?this.fetchAsset(t):this.asset.Id=null},fetchAsset:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.get("Asset/GetById?id=".concat(t));case 3:o=r.sent,e.asset=o.data.data,r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),e.$toast.error(r.t0.message,"Error al obtener el activo",e.izitoastConfig);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}}),l=(r(794),r(18)),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("h4",[t._v(t._s(t.DataForm.title))]),t._v(" "),e("ValidationObserver",{ref:"form"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 p-2"},[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{staticClass:"btn",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){return t.GoBack()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n            ")]),t._v(" "),e("b-button",{attrs:{variant:"success",title:"Guardar",size:"sm"},on:{click:t.onSubmit}},[e("i",{staticClass:"uil uil-print font-size-18"}),t._v(" Guardar\n            ")])],1)],1),t._v(" "),e("div",{staticClass:"col-lg-12 p-4"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",staticStyle:{"background-color":"white"}},[e("h5",{staticClass:"text-center"},[t._v(t._s(t.DataForm.title))])]),t._v(" "),e("div",{staticClass:"card-body justify-content-center container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Nombre","label-for":"name","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-input",{attrs:{id:"name",type:"text",size:"sm",state:!(o.length>0)&&null},model:{value:t.asset.Name,callback:function(e){t.$set(t.asset,"Name",e)},expression:"asset.Name"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()]}}])})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Clase de Activo","label-for":"assetClassId","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-select",{attrs:{id:"assetClassId",options:t.assetClasses,size:"sm",state:!(o.length>0)&&null},model:{value:t.asset.AssetClassId,callback:function(e){t.$set(t.asset,"AssetClassId",e)},expression:"asset.AssetClassId"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()]}}])})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Ubicación","label-for":"locationId","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-select",{attrs:{id:"locationId",options:t.locations,size:"sm",state:!(o.length>0)&&null},model:{value:t.asset.LocationId,callback:function(e){t.$set(t.asset,"LocationId",e)},expression:"asset.LocationId"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()]}}])})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Fecha de Adquisición","label-for":"acquisitionDate","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-input",{attrs:{id:"acquisitionDate",type:"date",size:"sm",state:!(o.length>0)&&null},model:{value:t.asset.AcquisitionDate,callback:function(e){t.$set(t.asset,"AcquisitionDate",e)},expression:"asset.AcquisitionDate"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()]}}])})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Costo de Adquisición","label-for":"acquisitionCost","label-cols":4}},[e("ValidationProvider",{attrs:{rules:"required|numeric"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[e("b-form-input",{attrs:{id:"acquisitionCost",type:"number",size:"sm",state:!(o.length>0)&&null},model:{value:t.asset.AcquisitionCost,callback:function(e){t.$set(t.asset,"AcquisitionCost",e)},expression:"asset.AcquisitionCost"}}),t._v(" "),o[0]?e("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()]}}])})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Valor Residual","label-for":"residualValue","label-cols":4}},[e("b-form-input",{attrs:{id:"residualValue",type:"number",size:"sm"},model:{value:t.asset.ResidualValue,callback:function(e){t.$set(t.asset,"ResidualValue",e)},expression:"asset.ResidualValue"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Vida Útil","label-for":"usefulLife","label-cols":4}},[e("b-form-input",{attrs:{id:"usefulLife",type:"number",size:"sm"},model:{value:t.asset.UsefulLife,callback:function(e){t.$set(t.asset,"UsefulLife",e)},expression:"asset.UsefulLife"}})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Método de Depreciación","label-for":"depreciationMethod","label-cols":4}},[e("b-form-select",{attrs:{id:"depreciationMethod",options:t.depreciationMethods,size:"sm"},model:{value:t.asset.DepreciationMethod,callback:function(e){t.$set(t.asset,"DepreciationMethod",e)},expression:"asset.DepreciationMethod"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Número de Serie","label-for":"serialNumber","label-cols":4}},[e("b-form-input",{attrs:{id:"serialNumber",type:"text",size:"sm"},model:{value:t.asset.SerialNumber,callback:function(e){t.$set(t.asset,"SerialNumber",e)},expression:"asset.SerialNumber"}})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Marca","label-for":"brand","label-cols":4}},[e("b-form-input",{attrs:{id:"brand",type:"text",size:"sm"},model:{value:t.asset.Brand,callback:function(e){t.$set(t.asset,"Brand",e)},expression:"asset.Brand"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Modelo","label-for":"model","label-cols":4}},[e("b-form-input",{attrs:{id:"model",type:"text",size:"sm"},model:{value:t.asset.Model,callback:function(e){t.$set(t.asset,"Model",e)},expression:"asset.Model"}})],1)],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("b-form-group",{attrs:{label:"Estado","label-for":"status","label-cols":4}},[e("b-form-select",{attrs:{id:"status",options:t.statusOptions,size:"sm"},model:{value:t.asset.Status,callback:function(e){t.$set(t.asset,"Status",e)},expression:"asset.Status"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("b-form-group",{attrs:{label:"Comentario","label-for":"commentary","label-cols":2}},[e("b-form-textarea",{attrs:{id:"commentary",rows:"3",size:"sm"},model:{value:t.asset.Commentary,callback:function(e){t.$set(t.asset,"Commentary",e)},expression:"asset.Commentary"}})],1)],1)])])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 p-2"},[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{staticClass:"btn",attrs:{variant:"secondary",size:"sm"},on:{click:function(e){return t.GoBack()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n            ")]),t._v(" "),e("b-button",{attrs:{variant:"success",title:"Guardar",size:"sm"},on:{click:t.onSubmit}},[e("i",{staticClass:"uil uil-print font-size-18"}),t._v(" Guardar\n            ")])],1)],1)])])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);