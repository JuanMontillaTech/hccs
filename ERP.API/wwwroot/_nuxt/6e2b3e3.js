(window.webpackJsonp=window.webpackJsonp||[]).push([[73,28],{587:function(t,e,o){var content=o(591);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("86dda686",content,!0,{sourceMap:!1})},590:function(t,e,o){"use strict";o(587)},591:function(t,e,o){var r=o(52)((function(i){return i[1]}));r.push([t.i,".loader[data-v-297c2299]{color:#bbb;text-align:center}.req[data-v-297c2299]{color:#ff0202}",""]),r.locals={},t.exports=r},592:function(t,e,o){"use strict";o.r(e);o(18),o(19),o(4),o(2),o(7),o(8),o(9),o(6),o(10);var r=o(0),n=(o(76),o(77),o(183)),c=o(601),l=o(599),m=o.n(l),d=o(600),f=o.n(d);function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function v(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){Object(r.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}Object(n.c)("required",v(v({},c.a),{},{message:"El campo es requerido"}));var y={name:"InfiniteScroll",components:{ValidationProvider:n.b,ckeditor:m.a.component},data:function(){return{Scheme:{},editor:f.a,years:null,allowedTypes:[{type:0,inputType:"text"},{type:2,inputType:"text"},{type:6,inputType:"password"},{type:7,inputType:"text"},{type:9,inputType:"date"}]}},props:["item","FieldsData","labelShow"],watch:{Scheme:{handler:function(){this.$emit("CustomChange",this.Scheme)},deep:!0}},created:function(){this.Scheme=this.FieldsData,void 0===this.Scheme[this.item.field]?this.SetValues():(9===this.item.type&&this.Scheme[this.item.field]&&(this.Scheme[this.item.field]=this.Scheme[this.item.field].substr(0,10)),11===this.item.type&&(this.years=this.generateYears(2020,(new Date).getFullYear()+5)))},methods:{isAllowedType:function(t){return this.allowedTypes.some((function(e){return e.type===t}))},getAllowedType:function(t){return this.allowedTypes.find((function(e){return e.type===t}))},SetValues:function(){if(this.Scheme[this.item.field]=this.item.defaultValue,9===this.item.type){var t=new Date;this.Scheme[this.item.field]=t.toISOString().substr(0,10)}11===this.item.type&&(this.years=this.generateYears(2020,(new Date).getFullYear()+5)),3===this.item.type&&(this.Scheme[this.item.field]=["true","yes","1"].includes(this.item.defaultValue))},GetLitValue:function(t,e){this.Scheme[t]=e},generateYears:function(t,e){for(var o=[],r=t;r<=e;r++)o.push(r);return o}}},S=(o(590),o(17)),component=Object(S.a)(y,(function(){var t=this,e=t._self._c;return e("div",[t.item.showForm&&t.item.isActive?[e("tr",[e("th",[t._v(t._s(t.item.label)+"    "),t.item.isRequired?e("span",{staticClass:"req"},[t._v("*")]):t._e()])]),t._v(" "),e("tr",[e("td",[t.isAllowedType(t.item.type)?e("b-form-group",{attrs:{"label-for":"input-".concat(t.item.type,"-").concat(t.item.field),"label-cols-sm":"4"}},[e("b-form-input",{staticStyle:{width:"250px"},attrs:{id:"input-".concat(t.item.type,"-").concat(t.item.field),type:t.getAllowedType(t.item.type).inputType,size:"sm",autocomplete:"off",name:t.item.field,readonly:7===t.item.type},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),1===t.item.type?e("b-form-group",{attrs:{"label-for":"select-1","label-cols-sm":"4"}},[e("vSelect",{staticStyle:{width:"250px"},attrs:{id:"select-".concat(t.item.type,"-").concat(t.item.field),field:t.item,select:t.Scheme[t.item.field],size:"sm"},on:{CustomChange:t.GetLitValue}})],1):t._e(),t._v(" "),10===t.item.type?e("b-form-group",{attrs:{"label-for":"select-10","label-cols-sm":"4"}},[e("vSelectContact",{attrs:{id:"select-10",field:t.item,select:t.Scheme[t.item.field]},on:{CustomChange:t.GetLitValue}})],1):t._e(),t._v(" "),3===t.item.type?e("b-form-group",{attrs:{"label-cols-sm":"4"}},[e("b-form-checkbox",{attrs:{name:t.item.field,id:"checkbox-".concat(t.item.type,"-").concat(t.item.field),switch:""},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),4===t.item.type?e("b-form-group",{attrs:{"label-for":"datepicker-4","label-cols-sm":"4"}},[e("b-form-datepicker",{attrs:{id:"datepicker-".concat(t.item.type,"-").concat(t.item.field),name:t.item.field,locale:"es",size:"sm",disabled:"show"==t.$route.query.Action},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),5===t.item.type?e("b-form-group",{attrs:{"label-for":"textarea-5","label-cols-sm":"4"}},[e("b-form-textarea",{attrs:{id:"textarea-".concat(t.item.type,"-").concat(t.item.field),rows:"3",size:"sm","max-rows":"6",name:t.item.field},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}})],1):t._e(),t._v(" "),8===t.item.type?e("b-form-group",{attrs:{"label-cols-sm":"4"}},[e("ckeditor",{attrs:{editor:t.editor,name:t.item.field},model:{value:t.Scheme[t.item.field],callback:function(e){t.$set(t.Scheme,t.item.field,e)},expression:"Scheme[item.field]"}}),t._v(" "),e("div",{domProps:{innerHTML:t._s(t.Scheme[t.item.field])}})],1):t._e(),t._v(" "),11===t.item.type?e("b-form-group",{attrs:{"label-cols-sm":"4"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.Scheme[t.item.field],expression:"Scheme[item.field]"}],staticClass:"form-control form-control-sm",attrs:{id:"input-".concat(t.item.type,"-").concat(t.item.field)},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Scheme,t.item.field,e.target.multiple?o:o[0])}}},t._l(t.years,(function(o){return e("option",{key:o,domProps:{value:o}},[t._v(t._s(o))])})),0)]):t._e()],1)])]:t._e()],2)}),[],!1,null,"297c2299",null);e.default=component.exports},756:function(t,e,o){var content=o(812);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(53).default)("185b1d86",content,!0,{sourceMap:!1})},811:function(t,e,o){"use strict";o(756)},812:function(t,e,o){var r=o(52)((function(i){return i[1]}));r.push([t.i,"hr.new1{border-top:1px solid blue}.text-size-required{font-size:12px}",""]),r.locals={},t.exports=r},900:function(t,e,o){"use strict";o.r(e);o(25),o(104),o(182),o(4),o(2),o(18);var r=o(645),n=o.n(r),c=o(597),l=o.n(c),m={head:function(){return{title:"".concat(this.DataForm.title)}},data:function(){return{Accountig:{data:[{AcccountId:null,Credit:0,Debit:0}]},file:"",filesTitle:[{key:"Acciones",label:"Archivos"}],DataRows:[],Spinning:!0,FormId:"",RowId:"",fields:["Acción"],fieldsHorizon:[],DataForm:[],DataFormSection:[],DataFormSectionGrids:[],principalSchema:{},principalHorisonSchema:[],SchemaTable:[]}},watch:{"$route.query.Form":function(){this.FormId="",this.RowId="",this.DataForm=[],this.files=[],this.DataFormSection=[],this.DataFormSectionGrids=[],this.principalSchema={},this.SchemaTable=[],this.FormId=this.$route.query.Form,this.GetFormRows()}},middleware:"authentication",mounted:function(){n.a.init("d30445e0b454ae98cc6d58d3007edf1a"),this.GetFormRows()},methods:{confirmCancellation:function(t){var e,o=this;e="FileManager/Delete/".concat(t),l.a.fire({title:"estas seguro?",text:"esta seguro que quiere remover esta fila",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si , Remuévela!",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&o.$axios.delete(e).then((function(t){o.GetFile(),l.a.fire("Removido!","El registro esta removido.","success")})).catch((function(t){return alert(t)}))}))},handleFileUpload:function(){this.file=this.$refs.file.files[0]},removeRow:function(t){this.Accountig.data.splice(t,1)},addRow:function(){this.Accountig.data.push({AcccountId:null,Credit:0,Debit:0})},GetFilterDataOnlyshowForm:function(t){return t.filter((function(t){return 1==t.showForm}))},GetValueFormElement:function(t){this.principalSchema=t},GetLitValue:function(t,e){this.principalSchema[t]=e},clearForm:function(){for(var t in this.principalSchema)this.principalSchema[t]=""},GetFormRows:function(){var t=this;this.FormId=this.$route.query.Form;var e="Form/GetById?Id=".concat(this.$route.query.Form);this.DataForm=[],this.DataFormSection=[],this.DataFormSectionGrids=[],this.$axios.get(e).then((function(e){t.DataForm=e.data.data,t.GetFilds(),"edit"===t.$route.query.Action&&(t.RowId=t.$route.query.Id,t.GetFildsData(),t.GetFile())})).catch((function(t){}))},GetFilds:function(){var t=this;this.$axios.get("Formfields/GetSectionWithFildsByFormID/".concat(this.FormId)).then((function(e){t.DataFormSection=e.data.data,t.fieldsHorizon=e.data.data[0].fields,t.Spinning=!1})).catch((function(t){}))},GetGrids:function(){var t=this;this.$axios.get("FormGrid/GetSectionWithFildsByFormID/".concat(this.FormId)).then((function(e){t.DataFormSectionGrids=e.data.data,t.SchemaTable.push(newrow)})).catch((function(t){}))},GetFildsData:function(){var t=this,e="".concat(this.DataForm.controller,"/GetById?Id=").concat(this.RowId);this.$axios.get(e).then((function(e){t.principalSchema=e.data.data})).catch((function(t){}))},GoBack:function(){this.DataForm.backList&&this.$router.push({path:"/ExpressForm/Index?Form=".concat(this.FormId)})},editSchema:function(){1==this.DataForm.edit&&this.put()},saveSchema:function(){this.RowId.length<1&&1==this.DataForm.create&&this.post()},onChange:function(t){return t.target.options[t.target.options.selectedIndex].dataset.text},GetFile:function(){var t=this;this.files=[],this.$axios.get("FileManager/GetAllBySourceId?SourceId=".concat(this.RowId)).then((function(e){t.files=e.data.data})).catch((function(t){}))},startUpload:function(t){for(var e=new FormData,i=0;i<this.$refs.file.files.length;i++){var o=this.$refs.file.files[i];e.append("request",o)}e.append("ReccordID",t),this.$axios.post("FileManager/UploadFiles",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){})).catch((function(t){}))},post:function(){var t=this,e="".concat(this.DataForm.controller,"/Create"),o=null;this.$axios.post(e,this.principalSchema).then((function(e){o=e,t.$toast.success("El Registro ha sido creado correctamente.","ÉXITO"),null!=t.$refs.file&&t.$refs.file.files.length>=1?t.startUpload(e.data.data.id):t.GoBack()})).catch((function(t){o=t,n.a.track("FromDynamicExpress/Post"+o)}))},put:function(){var t=this;console.log(this.principalSchema),this.$axios.put("".concat(this.DataForm.controller,"/Update"),this.principalSchema).then((function(e){t.$toast.success("El Registro ha sido actualizado correctamente.","EXITO"),null!=t.$refs.file&&t.$refs.file.files.length>=1?t.startUpload(e.data.data.id):t.GoBack()})).catch((function(t){reject(t),n.a.track("FromDynamicExpress/Pust"+t)}))}}},d=(o(811),o(17)),component=Object(d.a)(m,(function(){var t=this,e=t._self._c;return e("div",[e("h4",[t._v(t._s(this.DataForm.title))]),t._v(" "),t.Spinning?e("div",{staticClass:"text-center"},[e("b-spinner",{attrs:{variant:"success",label:"Spinning"}})],1):t._e(),t._v(" "),0==t.Spinning?e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"alert alert-light",attrs:{role:"alert"}},["edit"==t.$route.query.Action?e("div",[e("b-button-group",[t.DataForm.backList?e("b-button",{staticClass:"btn",attrs:{variant:"secundary",size:"sm"},on:{click:function(e){return t.GoBack()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n            ")]):t._e(),t._v(" "),e("b-button",{staticClass:"btn",attrs:{variant:"success",size:"sm"},on:{click:function(e){return t.editSchema()}}},[e("i",{staticClass:"bx bx-save"}),t._v(" Actualizar\n            ")])],1)],1):e("div",[e("b-button-group",[e("b-button",{staticClass:"btn",attrs:{variant:"secundary",size:"sm"},on:{click:function(e){return t.GoBack()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n            ")]),t._v(" "),e("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(e){return t.saveSchema()}}},[e("i",{staticClass:"bx bx-save"}),t._v(" Crear\n            ")])],1)],1)]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[t._l(t.DataFormSection,(function(o,r){return e("div",{key:r},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("span",{staticStyle:{"font-size":"16px","font-family":"Georgia, 'Times New Roman', Times, serif",font:"bold"}},[t._v(t._s(o.name))]),t._v(" "),e("hr",{staticClass:"new1"})])]),t._v(" "),t._l(t.GetFilterDataOnlyshowForm(o.fields),(function(o,r){return e("div",{key:r},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("DynamicElementGrid",{attrs:{FieldsData:t.principalSchema,item:o,labelShow:!0},on:{CustomChange:t.GetValueFormElement}})],1)])])}))],2)})),t._v(" "),t.DataForm.upload?e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"large-4 medium-4 small-4 cell"},[e("div",{staticClass:"mb-3"},[e("span",{staticStyle:{"font-size":"16px","font-family":"Georgia, 'Times New Roman', Times, serif",font:"bold"}},[t._v("Subir Archivos")]),t._v(" "),e("input",{ref:"file",staticClass:"form-control",attrs:{type:"file",id:"file",multiple:"multiple"}})])])]):t._e(),t._v(" "),t.DataForm.upload?e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"large-4 medium-4 small-4 cell"},[e("div",{staticClass:"mb-3"},[e("div",{staticClass:"table-responsive mb-0"},[e("b-table",{attrs:{items:t.files,fields:t.filesTitle,responsive:"sm"},scopedSlots:t._u([{key:"cell(Acciones)",fn:function(data){return[e("ul",{staticClass:"list-inline mb-0"},[e("li",{staticClass:"list-inline-item"},[e("a",{attrs:{href:data.item.link,target:"_blank"}},[t._v(t._s(data.item.name))])]),t._v(" "),e("li",{staticClass:"list-inline-item"},[e("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.confirmCancellation(data.item.id)}}},[e("i",{staticClass:"fas fa-trash"})])],1)])]}}],null,!1,2321355062)})],1)])])]):t._e(),t._v(" "),100===this.DataForm.transactionsType?e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[t._v("Cuenta")]),t._v(" "),e("th",[t._v("Débito")]),t._v(" "),e("th",[t._v("Crédito")]),t._v(" "),e("th",[t._v("Fuciones\n                "),t.Accountig.data.length<=0?e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(e){return t.addRow()}}},[e("i",{staticClass:"fas fa-plus"})])],1):t._e()],1)])]),t._v(" "),e("tbody",t._l(t.Accountig.data,(function(o,r){return e("tr",{key:r},[e("td"),t._v(" "),e("td",[e("b-form-input",{attrs:{size:"sm",autocomplete:"off",type:"text"},model:{value:o.Debit,callback:function(e){t.$set(o,"Debit",e)},expression:"row.Debit"}})],1),t._v(" "),e("td",[e("b-form-input",{attrs:{size:"sm",autocomplete:"off",type:"text"},model:{value:o.Credit,callback:function(e){t.$set(o,"Credit",e)},expression:"row.Credit"}})],1),t._v(" "),e("td",[e("b-button-group",{staticClass:"mt-4 mt-md-0"},[e("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.removeRow(r)}}},[e("i",{staticClass:"fas fa-trash"})]),t._v(" "),e("b-button",{attrs:{size:"sm",variant:"info"}},[e("i",{staticClass:"fas fa-plus"})])],1)],1)])})),0)]):t._e(),t._v(" "),e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[e("hr",{staticClass:"new1"}),t._v(" "),e("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[e("span",{staticStyle:{"font-size":"14px","font-family":"Georgia, 'Times New Roman', Times, serif",font:"bold"}},[t._v("Comentario")]),t._v(" "),e("b-form-textarea",{attrs:{id:"textarea",rows:"3","max-rows":"6"},model:{value:t.principalSchema.commentary,callback:function(e){t.$set(t.principalSchema,"commentary",e)},expression:"principalSchema.commentary"}})],1)],1)]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[e("b-form-group",{attrs:{id:"input-group-2",label:"Creado Por :","label-for":"input-2"}},[e("b-form-input",{attrs:{id:"textarea",rows:"3",disabled:"","max-rows":"6"},model:{value:t.principalSchema.createdBy,callback:function(e){t.$set(t.principalSchema,"createdBy",e)},expression:"principalSchema.createdBy"}})],1)],1),t._v(" "),e("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[e("b-form-group",{attrs:{id:"input-group-2",label:"Creado en :","label-for":"input-2"}},[e("b-form-input",{attrs:{id:"textarea",rows:"3",disabled:"","max-rows":"6"},model:{value:t.principalSchema.createdDate,callback:function(e){t.$set(t.principalSchema,"createdDate",e)},expression:"principalSchema.createdDate"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[e("b-form-group",{attrs:{id:"input-group-2",label:"Modificado Por:","label-for":"input-2"}},[e("b-form-input",{attrs:{id:"textarea",rows:"3",disabled:"","max-rows":"6"},model:{value:t.principalSchema.createdBy,callback:function(e){t.$set(t.principalSchema,"createdBy",e)},expression:"principalSchema.createdBy"}})],1)],1),t._v(" "),e("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[e("b-form-group",{attrs:{id:"input-group-2",label:"Modificado en:","label-for":"input-2"}},[e("b-form-input",{attrs:{id:"textarea",rows:"3",disabled:"","max-rows":"6"},model:{value:t.principalSchema.lastModifiedDate,callback:function(e){t.$set(t.principalSchema,"lastModifiedDate",e)},expression:"principalSchema.lastModifiedDate"}})],1)],1)])],2)])]),t._v(" "),e("div",{staticClass:"alert alert-light",attrs:{role:"alert"}},["edit"==t.$route.query.Action?e("div",[e("b-button-group",[t.DataForm.backList?e("b-button",{staticClass:"btn",attrs:{variant:"secundary"},on:{click:function(e){return t.GoBack()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n          ")]):t._e(),t._v(" "),e("b-button",{staticClass:"btn",attrs:{variant:"success"},on:{click:function(e){return t.editSchema()}}},[e("i",{staticClass:"bx bx-save"}),t._v(" Actualizar\n          ")])],1)],1):e("div",[e("b-button-group",[e("b-button",{staticClass:"btn",attrs:{variant:"secundary"},on:{click:function(e){return t.GoBack()}}},[e("i",{staticClass:"bx bx-arrow-back"}),t._v(" Lista\n          ")]),t._v(" "),e("b-button",{attrs:{variant:"success",size:"lg"},on:{click:function(e){return t.post()}}},[e("i",{staticClass:"bx bx-save"}),t._v(" Crear\n          ")])],1)],1)])]):t._e()])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row ml-0 mb-3"},[e("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[e("span",{staticStyle:{"font-size":"16px","font-family":"Georgia, 'Times New Roman', Times, serif",font:"bold"}},[t._v("Auditoría")]),t._v(" "),e("hr",{staticClass:"new1"})])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{DynamicElementGrid:o(592).default})}}]);